<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SPDK: NVMe over Fabrics Target Getting Started Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto:400,900" rel="stylesheet" type="text/css">
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="http://www.spdk.io/css/bootstrap.min.css" rel="stylesheet">
<link href="http://www.spdk.io/css/spdk.css" rel="stylesheet" type="text/css">
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<section id="page">
  <div class="page-header">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="page-title">
            <h1><a href="http://www.spdk.io">Storage Performance Development Kit</a></h1>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NVMe over Fabrics Target Getting Started Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The NVMe over Fabrics target is a user space application that presents block devices over the network using RDMA.</p>
<p>It requires an RDMA-capable NIC with its corresponding OFED software package installed to run. The target should work on all flavors of RDMA, but it is currently tested against Mellanox NICs (RoCEv2) and Chelsio NICs (iWARP).</p>
<p>The NVMe over Fabrics specification defines subsystems that can be exported over the network. SPDK has chosen to call the software that exports these subsystems a "target", which is the term used for iSCSI. The specification refers to the "client" that connects to the target as a "host". Many people will also refer to the host as an "initiator", which is the equivalent thing in iSCSI parlance. SPDK will try to stick to the terms "target" and "host" to match the specification.</p>
<p>There will be both a target and a host implemented in the Linux kernel, and these are available today as a set of patches against the kernel 4.8 release candidate. All of the testing against th SPDK target has been against the proposed Linux kernel host. This means that for at least the host machine, the kernel will need to be a release candidate until the code is actually merged. For the system running the SPDK target, however, you can run any modern flavor of Linux as required by your NIC vendor's OFED distribution.</p>
<h1><a class="anchor" id="nvmf_prereqs"></a>
Prerequisites</h1>
<p>This guide starts by assuming that you can already build the standard SPDK distribution on your platform. By default, the NVMe over Fabrics target is not built. To build nvmf_tgt there are some additional dependencies.</p>
<p>Fedora: </p><pre class="fragment">dnf install libibverbs-devel librdmacm-devel
</pre><p>Ubuntu: </p><pre class="fragment">apt-get install libibverbs-dev librdmacm-dev
</pre><p>Then build SPDK with RDMA enabled, either by editing CONFIG to enable CONFIG_RDMA or enabling it on the <code>make</code> command line:</p>
<pre class="fragment">make CONFIG_RDMA=y &lt;other config parameters&gt;
</pre><p>Once built, the binary will be in <code>app/nvmf_tgt</code>.</p>
<h1><a class="anchor" id="nvmf_config"></a>
Configuring NVMe over Fabrics Target</h1>
<p>A <code>nvmf_tgt</code>-specific configuration file is used to configure the NVMe over Fabrics target. This file's primary purpose is to define subsystems. A fully documented example configuration file is located at <code>etc/spdk/nvmf.conf.in</code>.</p>
<p>You should make a copy of the example configuration file, modify it to suit your environment, and then run the nvmf_tgt application and pass it the configuration file using the -c option. Right now, the target requires elevated privileges (root) to run.</p>
<pre class="fragment">app/nvmf_tgt/nvmf_tgt -c /path/to/nvmf.conf
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<section id="community">
  <div class="community">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <h2>Join Our Community:</h2>
        </div>
        <div class="col-lg-6">
          <ul class="list-inline community-box-buttons">
            <li>
              <a href="https://github.com/spdk/spdk" class="btn btn-default btn-lg">
                <img class="box-ico" src="http://www.spdk.io/img/ico/github.png"></img>
                <span class="box-name">github</span>
              </a>
            </li>
            <li>
              <a href="https://lists.01.org/mailman/listinfo/spdk" class="btn btn-default btn-lg">
                <img class="box-ico" src="http://www.spdk.io/img/ico/125a-email-message-solid.svg"></img>
                <span class="box-name">mailing list</span>
              </a>
            </li>
            <li>
              <a href="http://spdk.io/spdk/doc/" class="btn btn-default btn-lg">
                <img class="box-ico" src="http://www.spdk.io/img/ico/003-instructions.svg"></img>
                <span class="box-name">documentation</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  <!-- /.container -->
  </div>
</section>
<!-- /.banner -->
<!-- Footer -->
<footer>
  <div class="container text-center">
    <p class="copyright text-muted small">Copyright &copy; Intel Corporation. All Rights Reserved.</p>
  </div>
</footer>
</body>
</html>
