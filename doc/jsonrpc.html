<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.13">
  <title>SPDK: JSON-RPC Methods</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="../css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-sm-12">
        <section id="nav">
          <div class="navbar navbar-default navbar-static-top banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://ci.spdk.io/">
                  <i class="glyphicon glyphicon-ok"></i>
                  <span class="box-name">CI status</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/roadmap/">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/news/">
                  <i class="glyphicon glyphicon-bullhorn"></i>
                  <span class="box-name">News</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('jsonrpc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">JSON-RPC Methods </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="jsonrpc_overview"></a>
Overview</h1>
<p>SPDK implements a <a href="http://www.jsonrpc.org/specification">JSON-RPC 2.0</a> server to allow external management tools to dynamically configure SPDK components.</p>
<h2>Parameters</h2>
<p>Most of the commands can take parameters. If present, parameter is validated against its domain. If this check fail whole command will fail with response error message <a class="el" href="jsonrpc.html#jsonrpc_error_message">Invalid params</a>.</p>
<h3>Required parameters</h3>
<p>These parameters are mandatory. If any required parameter is missing RPC command will fail with proper error response.</p>
<h3>Optional parameters</h3>
<p>Those parameters might be omitted. If an optional parameter is present it must be valid otherwise command will fail proper error response.</p>
<h2><a class="anchor" id="jsonrpc_error_message"></a>
Error response message</h2>
<p>Each error response will contain proper message. As much as possible the message should indicate what went wrong during command processing.</p>
<p>There is ongoing effort to customize this messages but some RPC methods just return "Invalid parameters" as message body for any kind of error.</p>
<table class="doxtable">
<tr>
<th>Code </th><th>Description  </th></tr>
<tr>
<td>-1 </td><td>Invalid state - given method exists but it is not callable in <a class="el" href="jsonrpc.html#rpc_start_subsystem_init">current runtime state</a> </td></tr>
<tr>
<td>-32600 </td><td>Invalid request - not compliant with JSON-RPC 2.0 Specification </td></tr>
<tr>
<td>-32601 </td><td>Method not found </td></tr>
<tr>
<td>-32602 </td><td><a class="el" href="jsonrpc.html#jsonrpc_invalid_params">Invalid params</a> </td></tr>
<tr>
<td>-32603 </td><td>Internal error for e.g.: errors like out of memory </td></tr>
<tr>
<td>-32700 </td><td><a class="el" href="jsonrpc.html#jsonrpc_parser_error">Parser error</a> </td></tr>
</table>
<h3><a class="anchor" id="jsonrpc_parser_error"></a>
Parser error</h3>
<p>Encountered some error during parsing request like:</p>
<ul>
<li>the JSON object is malformed</li>
<li>parameter is too long</li>
<li>request is too long</li>
</ul>
<h3><a class="anchor" id="jsonrpc_invalid_params"></a>
Invalid params</h3>
<p>This type of error is most common one. It mean that there is an error while processing the request like:</p>
<ul>
<li>Parameters decoding in RPC method handler failed because required parameter is missing.</li>
<li>Unknown parameter present encountered.</li>
<li>Parameter type doesn't match expected type e.g.: given number when expected a string.</li>
<li>Parameter domain check failed.</li>
<li>Request is valid but some other error occurred during processing request. If possible message explains the error reason nature.</li>
</ul>
<h1><a class="anchor" id="jsonrpc_components_app"></a>
App Framework</h1>
<h2><a class="anchor" id="rpc_kill_instance"></a>
kill_instance</h2>
<p>Send a signal to the application.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>sig_name </td><td>Required </td><td>string </td><td>Signal to send (SIGINT, SIGTERM, SIGQUIT, SIGHUP, or SIGKILL) </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;kill_instance&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;sig_name&quot;: &quot;SIGINT&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_context_switch_monitor"></a>
context_switch_monitor</h2>
<p>Query, enable, or disable the context switch monitoring functionality.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>enabled </td><td>Optional </td><td>boolean </td><td>Enable (<code>true</code>) or disable (<code>false</code>) monitoring (omit this parameter to query the current state) </td></tr>
</table>
<h3>Response</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>enabled </td><td>boolean </td><td>The current state of context switch monitoring </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;context_switch_monitor&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;enabled&quot;: false</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: {</div><div class="line">    &quot;enabled&quot;: false</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_start_subsystem_init"></a>
start_subsystem_init</h2>
<p>Start initialization of SPDK subsystems when it is deferred by starting SPDK application with option -w. During its deferral some RPCs can be used to set global parameters for SPDK subsystems. This RPC can be called only once.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Response</h3>
<p>Completion status of SPDK subsystem initialization is returned as a boolean.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;start_subsystem_init&quot;</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_rpc_methods"></a>
get_rpc_methods</h2>
<p>Get an array of supported RPC methods.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>current </td><td>Optional </td><td>boolean </td><td>Get an array of RPC methods only callable in the current state. </td></tr>
</table>
<h3>Response</h3>
<p>The response is an array of supported RPC methods.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_rpc_methods&quot;</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    &quot;start_subsystem_init&quot;,</div><div class="line">    &quot;get_rpc_methods&quot;,</div><div class="line">    &quot;get_scsi_devices&quot;,</div><div class="line">    &quot;get_interfaces&quot;,</div><div class="line">    &quot;delete_ip_address&quot;,</div><div class="line">    &quot;add_ip_address&quot;,</div><div class="line">    &quot;get_nbd_disks&quot;,</div><div class="line">    &quot;stop_nbd_disk&quot;,</div><div class="line">    &quot;start_nbd_disk&quot;,</div><div class="line">    &quot;get_trace_flags&quot;,</div><div class="line">    &quot;clear_trace_flag&quot;,</div><div class="line">    &quot;set_trace_flag&quot;,</div><div class="line">    &quot;get_log_level&quot;,</div><div class="line">    &quot;set_log_level&quot;,</div><div class="line">    &quot;get_log_print_level&quot;,</div><div class="line">    &quot;set_log_print_level&quot;,</div><div class="line">    &quot;get_iscsi_global_params&quot;,</div><div class="line">    &quot;target_node_add_lun&quot;,</div><div class="line">    &quot;get_iscsi_connections&quot;,</div><div class="line">    &quot;delete_portal_group&quot;,</div><div class="line">    &quot;add_portal_group&quot;,</div><div class="line">    &quot;get_portal_groups&quot;,</div><div class="line">    &quot;delete_target_node&quot;,</div><div class="line">    &quot;delete_pg_ig_maps&quot;,</div><div class="line">    &quot;add_pg_ig_maps&quot;,</div><div class="line">    &quot;construct_target_node&quot;,</div><div class="line">    &quot;get_target_nodes&quot;,</div><div class="line">    &quot;delete_initiator_group&quot;,</div><div class="line">    &quot;delete_initiators_from_initiator_group&quot;,</div><div class="line">    &quot;add_initiators_to_initiator_group&quot;,</div><div class="line">    &quot;add_initiator_group&quot;,</div><div class="line">    &quot;get_initiator_groups&quot;,</div><div class="line">    &quot;set_iscsi_options&quot;,</div><div class="line">    &quot;set_bdev_options&quot;,</div><div class="line">    &quot;set_bdev_qos_limit_iops&quot;,</div><div class="line">    &quot;set_bdev_qos_limit&quot;,</div><div class="line">    &quot;delete_bdev&quot;,</div><div class="line">    &quot;get_bdevs&quot;,</div><div class="line">    &quot;get_bdevs_iostat&quot;,</div><div class="line">    &quot;get_subsystem_config&quot;,</div><div class="line">    &quot;get_subsystems&quot;,</div><div class="line">    &quot;context_switch_monitor&quot;,</div><div class="line">    &quot;kill_instance&quot;,</div><div class="line">    &quot;scan_ioat_copy_engine&quot;,</div><div class="line">    &quot;construct_virtio_dev&quot;,</div><div class="line">    &quot;construct_virtio_pci_blk_bdev&quot;,</div><div class="line">    &quot;construct_virtio_user_blk_bdev&quot;,</div><div class="line">    &quot;get_virtio_scsi_devs&quot;,</div><div class="line">    &quot;remove_virtio_bdev&quot;,</div><div class="line">    &quot;remove_virtio_scsi_bdev&quot;,</div><div class="line">    &quot;construct_virtio_pci_scsi_bdev&quot;,</div><div class="line">    &quot;construct_virtio_user_scsi_bdev&quot;,</div><div class="line">    &quot;delete_aio_bdev&quot;,</div><div class="line">    &quot;construct_aio_bdev&quot;,</div><div class="line">    &quot;destruct_split_vbdev&quot;,</div><div class="line">    &quot;construct_split_vbdev&quot;,</div><div class="line">    &quot;bdev_inject_error&quot;,</div><div class="line">    &quot;delete_error_bdev&quot;,</div><div class="line">    &quot;construct_error_bdev&quot;,</div><div class="line">    &quot;construct_passthru_bdev&quot;,</div><div class="line">    &quot;apply_nvme_firmware&quot;,</div><div class="line">    &quot;delete_nvme_controller&quot;,</div><div class="line">    &quot;construct_nvme_bdev&quot;,</div><div class="line">    &quot;construct_null_bdev&quot;,</div><div class="line">    &quot;delete_malloc_bdev&quot;,</div><div class="line">    &quot;construct_malloc_bdev&quot;,</div><div class="line">    &quot;get_lvol_stores&quot;,</div><div class="line">    &quot;destroy_lvol_bdev&quot;,</div><div class="line">    &quot;resize_lvol_bdev&quot;,</div><div class="line">    &quot;decouple_parent_lvol_bdev&quot;,</div><div class="line">    &quot;inflate_lvol_bdev&quot;,</div><div class="line">    &quot;rename_lvol_bdev&quot;,</div><div class="line">    &quot;clone_lvol_bdev&quot;,</div><div class="line">    &quot;snapshot_lvol_bdev&quot;,</div><div class="line">    &quot;construct_lvol_bdev&quot;,</div><div class="line">    &quot;destroy_lvol_store&quot;,</div><div class="line">    &quot;rename_lvol_store&quot;,</div><div class="line">    &quot;construct_lvol_store&quot;</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_subsystems"></a>
get_subsystems</h2>
<p>Get an array of name and dependency relationship of SPDK subsystems in initialization order.</p>
<h3>Parameters</h3>
<p>None</p>
<h3>Response</h3>
<p>The response is an array of name and dependency relationship of SPDK subsystems in initialization order.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_subsystems&quot;</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;copy&quot;,</div><div class="line">      &quot;depends_on&quot;: []</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;interface&quot;,</div><div class="line">      &quot;depends_on&quot;: []</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;net_framework&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;interface&quot;</div><div class="line">      ]</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;bdev&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;copy&quot;</div><div class="line">      ]</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;nbd&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;bdev&quot;</div><div class="line">      ]</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;nvmf&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;bdev&quot;</div><div class="line">      ]</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;scsi&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;bdev&quot;</div><div class="line">      ]</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;vhost&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;scsi&quot;</div><div class="line">      ]</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;subsystem&quot;: &quot;iscsi&quot;,</div><div class="line">      &quot;depends_on&quot;: [</div><div class="line">        &quot;scsi&quot;</div><div class="line">      ]</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_subsystem_config"></a>
get_subsystem_config</h2>
<p>Get current configuration of the specified SPDK subsystem</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>SPDK subsystem name </td></tr>
</table>
<h3>Response</h3>
<p>The response is current configuration of the specified SPDK subsystem. Null is returned if it is not retrievable by the get_subsystem_config method and empty array is returned if it is empty.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_subsystem_config&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;bdev&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;params&quot;: {</div><div class="line">        &quot;base_bdev&quot;: &quot;Malloc2&quot;,</div><div class="line">        &quot;split_size_mb&quot;: 0,</div><div class="line">        &quot;split_count&quot;: 2</div><div class="line">      },</div><div class="line">      &quot;method&quot;: &quot;construct_split_vbdev&quot;</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;params&quot;: {</div><div class="line">        &quot;trtype&quot;: &quot;PCIe&quot;,</div><div class="line">        &quot;name&quot;: &quot;Nvme1&quot;,</div><div class="line">        &quot;traddr&quot;: &quot;0000:01:00.0&quot;</div><div class="line">      },</div><div class="line">      &quot;method&quot;: &quot;construct_nvme_bdev&quot;</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;params&quot;: {</div><div class="line">        &quot;trtype&quot;: &quot;PCIe&quot;,</div><div class="line">        &quot;name&quot;: &quot;Nvme2&quot;,</div><div class="line">        &quot;traddr&quot;: &quot;0000:03:00.0&quot;</div><div class="line">      },</div><div class="line">      &quot;method&quot;: &quot;construct_nvme_bdev&quot;</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;params&quot;: {</div><div class="line">        &quot;block_size&quot;: 512,</div><div class="line">        &quot;num_blocks&quot;: 131072,</div><div class="line">        &quot;name&quot;: &quot;Malloc0&quot;,</div><div class="line">        &quot;uuid&quot;: &quot;913fc008-79a7-447f-b2c4-c73543638c31&quot;</div><div class="line">      },</div><div class="line">      &quot;method&quot;: &quot;construct_malloc_bdev&quot;</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;params&quot;: {</div><div class="line">        &quot;block_size&quot;: 512,</div><div class="line">        &quot;num_blocks&quot;: 131072,</div><div class="line">        &quot;name&quot;: &quot;Malloc1&quot;,</div><div class="line">        &quot;uuid&quot;: &quot;dd5b8f6e-b67a-4506-b606-7fff5a859920&quot;</div><div class="line">      },</div><div class="line">      &quot;method&quot;: &quot;construct_malloc_bdev&quot;</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="jsonrpc_components_bdev"></a>
Block Device Abstraction Layer</h1>
<h2><a class="anchor" id="rpc_set_bdev_options"></a>
set_bdev_options</h2>
<p>Set global parameters for the block device (bdev) subsystem. This RPC may only be called before SPDK subsystems have been initialized.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>bdev_io_pool_size </td><td>Optional </td><td>number </td><td>Number of <a class="el" href="structspdk__bdev__io.html">spdk_bdev_io</a> structures in shared buffer pool </td></tr>
<tr>
<td>bdev_io_cache_size </td><td>Optional </td><td>number </td><td>Maximum number of <a class="el" href="structspdk__bdev__io.html">spdk_bdev_io</a> structures cached per thread </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;set_bdev_options&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;bdev_io_pool_size&quot;: 65536,</div><div class="line">    &quot;bdev_io_cache_size&quot;: 256</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_bdevs"></a>
get_bdevs</h2>
<p>Get information about block devices (bdevs).</p>
<h3>Parameters</h3>
<p>The user may specify no parameters in order to list all block devices, or a block device may be specified by name.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>Block device name </td></tr>
</table>
<h3>Response</h3>
<p>The response is an array of objects containing information about the requested block devices.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_bdevs&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Malloc0&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;name&quot;: &quot;Malloc0&quot;,</div><div class="line">      &quot;product_name&quot;: &quot;Malloc disk&quot;,</div><div class="line">      &quot;block_size&quot;: 512,</div><div class="line">      &quot;num_blocks&quot;: 20480,</div><div class="line">      &quot;claimed&quot;: false,</div><div class="line">      &quot;supported_io_types&quot;: {</div><div class="line">        &quot;read&quot;: true,</div><div class="line">        &quot;write&quot;: true,</div><div class="line">        &quot;unmap&quot;: true,</div><div class="line">        &quot;write_zeroes&quot;: true,</div><div class="line">        &quot;flush&quot;: true,</div><div class="line">        &quot;reset&quot;: true,</div><div class="line">        &quot;nvme_admin&quot;: false,</div><div class="line">        &quot;nvme_io&quot;: false</div><div class="line">      },</div><div class="line">      &quot;driver_specific&quot;: {}</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_bdevs_iostat"></a>
get_bdevs_iostat</h2>
<p>Get I/O statistics of block devices (bdevs).</p>
<h3>Parameters</h3>
<p>The user may specify no parameters in order to list all block devices, or a block device may be specified by name.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>Block device name </td></tr>
</table>
<h3>Response</h3>
<p>The response is an array of objects containing I/O statistics of the requested block devices.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_bdevs_iostat&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Nvme0n1&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;tick_rate&quot;: 2200000000</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;name&quot;: &quot;Nvme0n1&quot;,</div><div class="line">      &quot;bytes_read&quot;: 36864,</div><div class="line">      &quot;num_read_ops&quot;: 2,</div><div class="line">      &quot;bytes_written&quot;: 0,</div><div class="line">      &quot;num_write_ops&quot;: 0,</div><div class="line">      &quot;read_latency_ticks&quot;: 178904,</div><div class="line">      &quot;write_latency_ticks&quot;: 0,</div><div class="line">      &quot;queue_depth_polling_period&quot;: 2,</div><div class="line">      &quot;queue_depth&quot;: 0,</div><div class="line">      &quot;io_time&quot;: 0,</div><div class="line">      &quot;weighted_io_time&quot;: 0</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_bdev"></a>
delete_bdev</h2>
<p>Unregister a block device.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Block device name </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;delete_bdev&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Malloc0&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_set_bdev_qos_limit"></a>
set_bdev_qos_limit</h2>
<p>Set the quality of service rate limit on a bdev.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Block device name </td></tr>
<tr>
<td>rw_ios_per_sec </td><td>Optional </td><td>number </td><td>Number of R/W I/Os per second to allow. 0 means unlimited. </td></tr>
<tr>
<td>rw_mbytes_per_sec </td><td>Optional </td><td>number </td><td>Number of R/W megabytes per second to allow. 0 means unlimited. </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;set_bdev_qos_limit&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Malloc0&quot;</div><div class="line">    &quot;rw_ios_per_sec&quot;: 20000</div><div class="line">    &quot;rw_mbytes_per_sec&quot;: 100</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_malloc_bdev"></a>
construct_malloc_bdev</h2>
<p>Construct <a class="el" href="bdev.html#bdev_config_malloc">Malloc bdev</a></p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>Bdev name to use </td></tr>
<tr>
<td>block_size </td><td>Required </td><td>number </td><td>Block size in bytes -must be multiple of 512 </td></tr>
<tr>
<td>num_blocks </td><td>Required </td><td>number </td><td>Number of blocks </td></tr>
<tr>
<td>uuid </td><td>Optional </td><td>string </td><td>UUID of new bdev </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;block_size&quot;: 4096,</div><div class="line">    &quot;num_blocks&quot;: 16384,</div><div class="line">    &quot;name&quot;: &quot;Malloc0&quot;,</div><div class="line">    &quot;uuid&quot;: &quot;2b6601ba-eada-44fb-9a83-a20eb9eb9e90&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_malloc_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;Malloc0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_malloc_bdev"></a>
delete_malloc_bdev</h2>
<p>Delete <a class="el" href="bdev.html#bdev_config_malloc">Malloc bdev</a></p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Malloc0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_malloc_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_null_bdev"></a>
construct_null_bdev</h2>
<p>Construct <a class="el" href="bdev.html#bdev_config_null">Null</a></p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>Bdev name to use </td></tr>
<tr>
<td>block_size </td><td>Required </td><td>number </td><td>Block size in bytes </td></tr>
<tr>
<td>num_blocks </td><td>Required </td><td>number </td><td>Number of blocks </td></tr>
<tr>
<td>uuid </td><td>Optional </td><td>string </td><td>UUID of new bdev </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;block_size&quot;: 4096,</div><div class="line">    &quot;num_blocks&quot;: 16384,</div><div class="line">    &quot;name&quot;: &quot;Null0&quot;,</div><div class="line">    &quot;uuid&quot;: &quot;2b6601ba-eada-44fb-9a83-a20eb9eb9e90&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_null_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;Null0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_null_bdev"></a>
delete_null_bdev</h2>
<p>Delete <a class="el" href="bdev.html#bdev_config_null">Null</a>.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Null0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_null_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_aio_bdev"></a>
construct_aio_bdev</h2>
<p>Construct <a class="el" href="bdev.html#bdev_config_aio">Linux AIO bdev</a>.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name to use </td></tr>
<tr>
<td>filename </td><td>Required </td><td>number </td><td>Path to device or file </td></tr>
<tr>
<td>block_size </td><td>Optional </td><td>number </td><td>Block size in bytes </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;block_size&quot;: 4096,</div><div class="line">    &quot;name&quot;: &quot;Aio0&quot;,</div><div class="line">    &quot;filename&quot;: &quot;/tmp/aio_bdev_file&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_aio_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;Aio0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_aio_bdev"></a>
delete_aio_bdev</h2>
<p>Delete <a class="el" href="bdev.html#bdev_config_aio">Linux AIO bdev</a>.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Aio0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_aio_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_set_bdev_nvme_options"></a>
set_bdev_nvme_options</h2>
<p>Set global parameters for all bdev NVMe. This RPC may only be called before SPDK subsystems have been initialized.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>action_on_timeout </td><td>Optional </td><td>string </td><td>Action to take on command time out: none, reset or abort </td></tr>
<tr>
<td>timeout_us </td><td>Optional </td><td>number </td><td>Timeout for each command, in microseconds. If 0, don't track timeouts </td></tr>
<tr>
<td>retry_count </td><td>Optional </td><td>number </td><td>The number of attempts per I/O before an I/O fails </td></tr>
<tr>
<td>nvme_adminq_poll_period_us </td><td>Optional </td><td>number </td><td>How often the admin queue is polled for asynchronous events in microsecond </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;retry_count&quot;: 5,</div><div class="line">    &quot;nvme_adminq_poll_period_us&quot;: 2000,</div><div class="line">    &quot;timeout_us&quot;: 10000000,</div><div class="line">    &quot;action_on_timeout&quot;: &quot;reset&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;set_bdev_nvme_options&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_set_bdev_nvme_hotplug"></a>
set_bdev_nvme_hotplug</h2>
<p>Change settings of the NVMe hotplug feature. If enabled, PCIe NVMe bdevs will be automatically discovered on insertion and deleted on removal.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>enabled </td><td>Required </td><td>string </td><td>True to enable, false to disable </td></tr>
<tr>
<td>period_us </td><td>Optional </td><td>number </td><td>How often to poll for hot-insert and hot-remove events. Values: 0 - reset/use default or 1 to 10000000. </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;enabled&quot;: true,</div><div class="line">    &quot;period_us&quot;: 2000</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;set_bdev_nvme_hotplug&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_nvme_bdev"></a>
construct_nvme_bdev</h2>
<p>Construct <a class="el" href="bdev.html#bdev_config_nvme">NVMe bdev</a></p>
<h3>Result</h3>
<p>Array of names of newly created bdevs.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Name of the NVMe controller, prefix for each bdev name </td></tr>
<tr>
<td>trtype </td><td>Required </td><td>string </td><td>NVMe-oF target trtype: rdma or pcie </td></tr>
<tr>
<td>traddr </td><td>Required </td><td>string </td><td>NVMe-oF target address: ip or BDF </td></tr>
<tr>
<td>adrfam </td><td>Optional </td><td>string </td><td>NVMe-oF target adrfam: ipv4, ipv6, ib, fc, intra_host </td></tr>
<tr>
<td>trsvcid </td><td>Optional </td><td>string </td><td>NVMe-oF target trsvcid: port number </td></tr>
<tr>
<td>subnqn </td><td>Optional </td><td>string </td><td>NVMe-oF target subnqn </td></tr>
<tr>
<td>hostnqn </td><td>Optional </td><td>string </td><td>NVMe-oF target hostnqn </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;trtype&quot;: &quot;pcie&quot;,</div><div class="line">    &quot;name&quot;: &quot;Nvme0&quot;,</div><div class="line">    &quot;traddr&quot;: &quot;0000:0a:00.0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_nvme_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    &quot;Nvme0n1&quot;</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_nvme_controllers"></a>
get_nvme_controllers</h2>
<p>Get information about NVMe controllers.</p>
<h3>Parameters</h3>
<p>The user may specify no parameters in order to list all NVMe controllers, or one NVMe controller may be specified by name.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>NVMe controller name </td></tr>
</table>
<h3>Response</h3>
<p>The response is an array of objects containing information about the requested NVMe controllers.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_nvme_controllers&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Nvme0&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;name&quot;: &quot;Nvme0&quot;,</div><div class="line">      &quot;trid&quot;: {</div><div class="line">        &quot;trtype&quot;: &quot;PCIe&quot;,</div><div class="line">        &quot;traddr&quot;: &quot;0000:05:00.0&quot;</div><div class="line">      }</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_nvme_controller"></a>
delete_nvme_controller</h2>
<p>Delete NVMe controller.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Controller name </td></tr>
</table>
<h3>Example</h3>
<p>Example requests:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Nvme0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_nvme_controller&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_rbd_bdev"></a>
construct_rbd_bdev</h2>
<p>Construct <a class="el" href="bdev.html#bdev_config_rbd">Ceph RBD</a> bdev</p>
<p>This method is available only if SPDK was build with Ceph RBD support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>Bdev name </td></tr>
<tr>
<td>pool_name </td><td>Required </td><td>string </td><td>Pool name </td></tr>
<tr>
<td>rbd_name </td><td>Required </td><td>string </td><td>Image name </td></tr>
<tr>
<td>block_size </td><td>Required </td><td>number </td><td>Block size </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;pool_name&quot;: &quot;rbd&quot;,</div><div class="line">    &quot;rbd_name&quot;: &quot;foo&quot;,</div><div class="line">    &quot;block_size&quot;: 4096</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_rbd_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">response:</div><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;Ceph0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_rbd_bdev"></a>
delete_rbd_bdev</h2>
<p>Delete <a class="el" href="bdev.html#bdev_config_rbd">Ceph RBD</a> bdev</p>
<p>This method is available only if SPDK was build with Ceph RBD support.</p>
<h3>Result</h3>
<p><code>true</code> if bdev with provided name was deleted or <code>false</code> otherwise.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Rbd0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_rbd_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_error_bdev"></a>
construct_error_bdev</h2>
<p>Construct error bdev.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>base_name </td><td>Required </td><td>string </td><td>Base bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;base_name&quot;: &quot;Malloc0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_error_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_error_bdev"></a>
delete_error_bdev</h2>
<p>Delete error bdev</p>
<h3>Result</h3>
<p><code>true</code> if bdev with provided name was deleted or <code>false</code> otherwise.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Error bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;EE_Malloc0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_error_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_iscsi_bdev"></a>
construct_iscsi_bdev</h2>
<p>Connect to iSCSI target and create bdev backed by this connection.</p>
<p>This method is available only if SPDK was build with iSCSI initiator support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
<tr>
<td>initiator_iqn </td><td>Required </td><td>string </td><td>IQN name used during connection </td></tr>
<tr>
<td>url </td><td>Required </td><td>string </td><td>iSCSI resource URI </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;url&quot;: &quot;iscsi://127.0.0.1/iqn.2016-06.io.spdk:disk1/0&quot;,</div><div class="line">    &quot;initiator_iqn&quot;: &quot;iqn.2016-06.io.spdk:init&quot;,</div><div class="line">    &quot;name&quot;: &quot;iSCSI0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_iscsi_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;iSCSI0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_iscsi_bdev"></a>
delete_iscsi_bdev</h2>
<p>Delete iSCSI bdev and terminate connection to target.</p>
<p>This method is available only if SPDK was built with iSCSI initiator support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;iSCSI0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_iscsi_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_create_pmem_pool"></a>
create_pmem_pool</h2>
<p>Create a <a class="el" href="bdev.html#bdev_config_pmem">Pmem</a> blk pool file. It is equivalent of following <code>pmempool create</code> command:</p>
<div class="fragment"><div class="line">pmempool create -s $((num_blocks * block_size)) blk $block_size $pmem_file</div></div><!-- fragment --><p>This method is available only if SPDK was built with PMDK support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>pmem_file </td><td>Required </td><td>string </td><td>Path to new pmem file </td></tr>
<tr>
<td>num_blocks </td><td>Required </td><td>number </td><td>Number of blocks </td></tr>
<tr>
<td>block_size </td><td>Required </td><td>number </td><td>Size of each block in bytes </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;block_size&quot;: 512,</div><div class="line">    &quot;num_blocks&quot;: 131072,</div><div class="line">    &quot;pmem_file&quot;: &quot;/tmp/pmem_file&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;create_pmem_pool&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_pmem_pool_info"></a>
pmem_pool_info</h2>
<p>Retrieve basic information about PMDK memory pool.</p>
<p>This method is available only if SPDK was built with PMDK support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>pmem_file </td><td>Required </td><td>string </td><td>Path to existing pmem file </td></tr>
</table>
<h3>Result</h3>
<p>Array of objects describing memory pool:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>num_blocks </td><td>number </td><td>Number of blocks </td></tr>
<tr>
<td>block_size </td><td>number </td><td>Size of each block in bytes </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;pmem_file&quot;: &quot;/tmp/pmem_file&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;pmem_pool_info&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;block_size&quot;: 512,</div><div class="line">      &quot;num_blocks&quot;: 129728</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_pmem_pool"></a>
delete_pmem_pool</h2>
<p>Delete pmem pool by removing file <code>pmem_file</code>. This method will fail if <code>pmem_file</code> is not a valid pmem pool file.</p>
<p>This method is available only if SPDK was built with PMDK support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>pmem_file </td><td>Required </td><td>string </td><td>Path to new pmem file </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;pmem_file&quot;: &quot;/tmp/pmem_file&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_pmem_pool&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_pmem_bdev"></a>
construct_pmem_bdev</h2>
<p>Construct <a class="el" href="bdev.html#bdev_config_pmem">Pmem</a> bdev.</p>
<p>This method is available only if SPDK was built with PMDK support.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
<tr>
<td>pmem_file </td><td>Required </td><td>string </td><td>Path to existing pmem blk pool file </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;pmem_file&quot;: &quot;/tmp/pmem_file&quot;,</div><div class="line">    &quot;name&quot;: &quot;Pmem0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_pmem_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;Pmem0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_pmem_bdev"></a>
delete_pmem_bdev</h2>
<p>Delete <a class="el" href="bdev.html#bdev_config_pmem">Pmem</a> bdev. This call will not remove backing pool files.</p>
<p>This method is available only if SPDK was built with PMDK support.</p>
<h3>Result</h3>
<p><code>true</code> if bdev with provided name was deleted or <code>false</code> otherwise.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Pmem0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_pmem_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_passthru_bdev"></a>
construct_passthru_bdev</h2>
<p>Create passthru bdev. This bdev type redirects all IO to it's base bdev. It has no other purpose than being an example and a starting point in development of new bdev type.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
<tr>
<td>base_bdev_name </td><td>Required </td><td>string </td><td>Base bdev name </td></tr>
</table>
<h3>Result</h3>
<p>Name of newly created bdev.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;base_bdev_name&quot;: &quot;Malloc0&quot;,</div><div class="line">    &quot;name&quot;: &quot;Passsthru0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_passthru_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;Passsthru0&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_passthru_bdev"></a>
delete_passthru_bdev</h2>
<p>Delete passthru bdev.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Passsthru0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_passthru_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_virtio_dev"></a>
construct_virtio_dev</h2>
<p>Create new initiator <a class="el" href="bdev.html#bdev_config_virtio_scsi">Virtio SCSI</a> or <a class="el" href="bdev.html#bdev_config_virtio_blk">Virtio Block</a> and expose all found bdevs.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Virtio SCSI base bdev name or Virtio Blk bdev name </td></tr>
<tr>
<td>trtype </td><td>Required </td><td>string </td><td>Virtio target trtype: pci or user </td></tr>
<tr>
<td>traddr </td><td>Required </td><td>string </td><td>target address: BDF or UNIX socket file path </td></tr>
<tr>
<td>dev_type </td><td>Required </td><td>string </td><td>Virtio device type: blk or scsi </td></tr>
<tr>
<td>vq_count </td><td>Optional </td><td>number </td><td>Number of queues this controller will utilize (default: 1) </td></tr>
<tr>
<td>vq_size </td><td>Optional </td><td>number </td><td>Size of each queue. Must be power of 2. (default: 512) </td></tr>
</table>
<p>In case of Virtio SCSI the <code>name</code> parameter will be base name for new created bdevs. For Virtio Blk <code>name</code> will be the name of created bdev.</p>
<p><code>vq_count</code> and <code>vq_size</code> parameters are valid only if <code>trtype</code> is <code>user</code>.</p>
<h3>Result</h3>
<p>Array of names of newly created bdevs.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;VirtioScsi0&quot;,</div><div class="line">    &quot;trtype&quot;: &quot;user&quot;,</div><div class="line">    &quot;vq_size&quot;: 128,</div><div class="line">    &quot;dev_type&quot;: &quot;scsi&quot;,</div><div class="line">    &quot;traddr&quot;: &quot;/tmp/VhostScsi0&quot;,</div><div class="line">    &quot;vq_count&quot;: 4</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_virtio_dev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [&quot;VirtioScsi0t2&quot;, &quot;VirtioScsi0t4&quot;]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_virtio_user_scsi_bdev"></a>
construct_virtio_user_scsi_bdev</h2>
<p>This is legacy RPC method. It is equivalent of <a class="el" href="jsonrpc.html#rpc_construct_virtio_dev">construct_virtio_dev</a> with <code>trtype</code> set to <code>user</code> and <code>dev_type</code> set to <code>scsi</code>.</p>
<p>Because it will be deprecated soon it is intentionally undocumented.</p>
<h2><a class="anchor" id="rpc_construct_virtio_pci_scsi_bdev"></a>
construct_virtio_pci_scsi_bdev</h2>
<p>This is legacy RPC method. It is equivalent of <a class="el" href="jsonrpc.html#rpc_construct_virtio_dev">construct_virtio_dev</a> with <code>trtype</code> set to <code>pci</code> and <code>dev_type</code> set to <code>scsi</code>.</p>
<p>Because it will be deprecated soon it is intentionally undocumented.</p>
<h2><a class="anchor" id="rpc_construct_virtio_user_blk_bdev"></a>
construct_virtio_user_blk_bdev</h2>
<p>This is legacy RPC method. It is equivalent of <a class="el" href="jsonrpc.html#rpc_construct_virtio_dev">construct_virtio_dev</a> with <code>trtype</code> set to <code>user</code> and <code>dev_type</code> set to <code>blk</code>.</p>
<p>Because it will be deprecated soon it is intentionally undocumented.</p>
<h2><a class="anchor" id="rpc_construct_virtio_pci_blk_bdev"></a>
construct_virtio_pci_blk_bdev</h2>
<p>This is legacy RPC method. It is equivalent of <a class="el" href="jsonrpc.html#rpc_construct_virtio_dev">construct_virtio_dev</a> with <code>trtype</code> set to <code>pci</code> and <code>dev_type</code> set to <code>blk</code>.</p>
<p>Because it will be deprecated soon it is intentionally undocumented.</p>
<h2><a class="anchor" id="rpc_get_virtio_scsi_devs"></a>
get_virtio_scsi_devs</h2>
<p>Show information about all available Virtio SCSI devices.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Result</h3>
<p>Array of Virtio SCSI information objects.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_virtio_scsi_devs&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;name&quot;: &quot;VirtioScsi0&quot;,</div><div class="line">      &quot;virtio&quot;: {</div><div class="line">          &quot;vq_size&quot;: 128,</div><div class="line">          &quot;vq_count&quot;: 4,</div><div class="line">          &quot;type&quot;: &quot;user&quot;,</div><div class="line">          &quot;socket&quot;: &quot;/tmp/VhostScsi0&quot;</div><div class="line">      }</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_remove_virtio_bdev"></a>
remove_virtio_bdev</h2>
<p>Remove a Virtio device. This command can be used to remove any type of virtio device.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Virtio name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;VirtioUser0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;remove_virtio_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="jsonrpc_components_iscsi_tgt"></a>
iSCSI Target</h1>
<h2><a class="anchor" id="rpc_set_iscsi_options"></a>
set_iscsi_options method</h2>
<p>Set global parameters for iSCSI targets.</p>
<p>This RPC may only be called before SPDK subsystems have been initialized. This RPC can be called only once.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>auth_file </td><td>Optional </td><td>string </td><td>Path to CHAP shared secret file (default: "") </td></tr>
<tr>
<td>node_base </td><td>Optional </td><td>string </td><td>Prefix of the name of iSCSI target node (default: "iqn.2016-06.io.spdk") </td></tr>
<tr>
<td>nop_timeout </td><td>Optional </td><td>number </td><td>Timeout in seconds to nop-in request to the initiator (default: 60) </td></tr>
<tr>
<td>nop_in_interval </td><td>Optional </td><td>number </td><td>Time interval in secs between nop-in requests by the target (default: 30) </td></tr>
<tr>
<td>disable_chap </td><td>Optional </td><td>boolean </td><td>CHAP for discovery session should be disabled (default: <code>false</code>) </td></tr>
<tr>
<td>require_chap </td><td>Optional </td><td>boolean </td><td>CHAP for discovery session should be required (default: <code>false</code>) </td></tr>
<tr>
<td>mutual_chap </td><td>Optional </td><td>boolean </td><td>CHAP for discovery session should be unidirectional (<code>false</code>) or bidirectional (<code>true</code>) (default: <code>false</code>) </td></tr>
<tr>
<td>chap_group </td><td>Optional </td><td>number </td><td>CHAP group ID for discovery session (default: 0) </td></tr>
<tr>
<td>max_sessions </td><td>Optional </td><td>number </td><td>Maximum number of sessions in the host (default: 128) </td></tr>
<tr>
<td>max_queue_depth </td><td>Optional </td><td>number </td><td>Maximum number of outstanding I/Os per queue (default: 64) </td></tr>
<tr>
<td>max_connections_per_session </td><td>Optional </td><td>number </td><td>Session specific parameter, MaxConnections (default: 2) </td></tr>
<tr>
<td>default_time2wait </td><td>Optional </td><td>number </td><td>Session specific parameter, DefaultTime2Wait (default: 2) </td></tr>
<tr>
<td>default_time2retain </td><td>Optional </td><td>number </td><td>Session specific parameter, DefaultTime2Retain (default: 20) </td></tr>
<tr>
<td>first_burst_length </td><td>Optional </td><td>number </td><td>Session specific parameter, FirstBurstLength (default: 8192) </td></tr>
<tr>
<td>immediate_data </td><td>Optional </td><td>boolean </td><td>Session specific parameter, ImmediateData (default: <code>true</code>) </td></tr>
<tr>
<td>error_recovery_level </td><td>Optional </td><td>number </td><td>Session specific parameter, ErrorRecoveryLevel (default: 0) </td></tr>
<tr>
<td>allow_duplicated_isid </td><td>Optional </td><td>boolean </td><td>Allow duplicated initiator session ID (default: <code>false</code>) </td></tr>
<tr>
<td>min_connections_per_core </td><td>Optional </td><td>number </td><td>Allocation unit of connections per core (default: 4) </td></tr>
</table>
<p>To load CHAP shared secret file, its path is required to specify explicitly in the parameter <code>auth_file</code>.</p>
<p>Parameters <code>disable_chap</code> and <code>require_chap</code> are mutually exclusive. Parameters <code>no_discovery_auth</code>, <code>req_discovery_auth</code>, <code>req_discovery_auth_mutual</code>, and <code>discovery_auth_group</code> are still available instead of <code>disable_chap</code>, <code>require_chap</code>, <code>mutual_chap</code>, and <code>chap_group</code>, respectivey but will be removed in future releases.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;allow_duplicated_isid&quot;: true,</div><div class="line">    &quot;default_time2retain&quot;: 60,</div><div class="line">    &quot;first_burst_length&quot;: 8192,</div><div class="line">    &quot;immediate_data&quot;: true,</div><div class="line">    &quot;node_base&quot;: &quot;iqn.2016-06.io.spdk&quot;,</div><div class="line">    &quot;max_sessions&quot;: 128,</div><div class="line">    &quot;nop_timeout&quot;: 30,</div><div class="line">    &quot;nop_in_interval&quot;: 30,</div><div class="line">    &quot;auth_file&quot;: &quot;/usr/local/etc/spdk/auth.conf&quot;,</div><div class="line">    &quot;disable_chap&quot;: true,</div><div class="line">    &quot;default_time2wait&quot;: 2</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;set_iscsi_options&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_iscsi_global_params"></a>
get_iscsi_global_params method</h2>
<p>Show global parameters of iSCSI targets.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_iscsi_global_params&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: {</div><div class="line">    &quot;allow_duplicated_isid&quot;: true,</div><div class="line">    &quot;default_time2retain&quot;: 60,</div><div class="line">    &quot;first_burst_length&quot;: 8192,</div><div class="line">    &quot;immediate_data&quot;: true,</div><div class="line">    &quot;node_base&quot;: &quot;iqn.2016-06.io.spdk&quot;,</div><div class="line">    &quot;mutual_chap&quot;: false,</div><div class="line">    &quot;nop_in_interval&quot;: 30,</div><div class="line">    &quot;chap_group&quot;: 0,</div><div class="line">    &quot;max_connections_per_session&quot;: 2,</div><div class="line">    &quot;max_queue_depth&quot;: 64,</div><div class="line">    &quot;nop_timeout&quot;: 30,</div><div class="line">    &quot;max_sessions&quot;: 128,</div><div class="line">    &quot;error_recovery_level&quot;: 0,</div><div class="line">    &quot;auth_file&quot;: &quot;/usr/local/etc/spdk/auth.conf&quot;,</div><div class="line">    &quot;min_connections_per_core&quot;: 4,</div><div class="line">    &quot;disable_chap&quot;: true,</div><div class="line">    &quot;default_time2wait&quot;: 2,</div><div class="line">    &quot;require_chap&quot;: false</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --> <h2><a class="anchor" id="rpc_set_iscsi_discovery_auth"></a>
set_iscsi_discovery_auth method</h2>
<p>Set CHAP authentication for sessions dynamically.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>disable_chap </td><td>Optional </td><td>boolean </td><td>CHAP for discovery session should be disabled (default: <code>false</code>) </td></tr>
<tr>
<td>require_chap </td><td>Optional </td><td>boolean </td><td>CHAP for discovery session should be required (default: <code>false</code>) </td></tr>
<tr>
<td>mutual_chap </td><td>Optional </td><td>boolean </td><td>CHAP for discovery session should be unidirectional (<code>false</code>) or bidirectional (<code>true</code>) (default: <code>false</code>) </td></tr>
<tr>
<td>chap_group </td><td>Optional </td><td>number </td><td>CHAP group ID for discovery session (default: 0) </td></tr>
</table>
<p>Parameters <code>disable_chap</code> and <code>require_chap</code> are mutually exclusive.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;chap_group&quot;: 1,</div><div class="line">    &quot;require_chap&quot;: true,</div><div class="line">    &quot;mutual_chap&quot;: true</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;set_iscsi_discovery_auth&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_iscsi_auth_group"></a>
add_iscsi_auth_group method</h2>
<p>Add an authentication group for CHAP authentication.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Authentication group tag (unique, integer &gt; 0) </td></tr>
<tr>
<td>secrets </td><td>Optional </td><td>array </td><td>Array of <a class="el" href="jsonrpc.html#rpc_add_iscsi_auth_group_secret">secret</a> objects </td></tr>
</table>
<h3><a class="anchor" id="rpc_add_iscsi_auth_group_secret"></a>
secret</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>user </td><td>Required </td><td>string </td><td>Unidirectional CHAP name </td></tr>
<tr>
<td>secret </td><td>Required </td><td>string </td><td>Unidirectional CHAP secret </td></tr>
<tr>
<td>muser </td><td>Optional </td><td>string </td><td>Bidirectional CHAP name </td></tr>
<tr>
<td>msecret </td><td>Optional </td><td>string </td><td>Bidirectional CHAP secret </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;secrets&quot;: [</div><div class="line">      {</div><div class="line">        &quot;muser&quot;: &quot;mu1&quot;,</div><div class="line">        &quot;secret&quot;: &quot;s1&quot;,</div><div class="line">        &quot;user&quot;: &quot;u1&quot;,</div><div class="line">        &quot;msecret&quot;: &quot;ms1&quot;</div><div class="line">      }</div><div class="line">    ],</div><div class="line">    &quot;tag&quot;: 2</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_iscsi_auth_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_iscsi_auth_group"></a>
delete_iscsi_auth_group method</h2>
<p>Delete an existing authentication group for CHAP authentication.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Authentication group tag (unique, integer &gt; 0) </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;tag&quot;: 2</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_iscsi_auth_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_iscsi_auth_groups"></a>
get_iscsi_auth_groups</h2>
<p>Show information about all existing authentication group for CHAP authentication.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Result</h3>
<p>Array of objects describing authentication group.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>number </td><td>Authentication group tag </td></tr>
<tr>
<td>secrets </td><td>array </td><td>Array of <a class="el" href="jsonrpc.html#rpc_add_iscsi_auth_group_secret">secret</a> objects </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_iscsi_auth_groups&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p> Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;secrets&quot;: [</div><div class="line">        {</div><div class="line">          &quot;muser&quot;: &quot;mu1&quot;,</div><div class="line">          &quot;secret&quot;: &quot;s1&quot;,</div><div class="line">          &quot;user&quot;: &quot;u1&quot;,</div><div class="line">          &quot;msecret&quot;: &quot;ms1&quot;</div><div class="line">        }</div><div class="line">      ],</div><div class="line">      &quot;tag&quot;: 1</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;secrets&quot;: [</div><div class="line">        {</div><div class="line">          &quot;secret&quot;: &quot;s2&quot;,</div><div class="line">          &quot;user&quot;: &quot;u2&quot;</div><div class="line">        }</div><div class="line">      ],</div><div class="line">      &quot;tag&quot;: 2</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_secret_to_iscsi_auth_group"></a>
add_secret_to_iscsi_auth_group</h2>
<p>Add a secret to an existing authentication group for CHAP authentication.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Authentication group tag (unique, integer &gt; 0) </td></tr>
<tr>
<td>user </td><td>Required </td><td>string </td><td>Unidirectional CHAP name </td></tr>
<tr>
<td>secret </td><td>Required </td><td>string </td><td>Unidirectional CHAP secret </td></tr>
<tr>
<td>muser </td><td>Optional </td><td>string </td><td>Bidirectional CHAP name </td></tr>
<tr>
<td>msecret </td><td>Optional </td><td>string </td><td>Bidirectional CHAP secret </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;muser&quot;: &quot;mu3&quot;,</div><div class="line">    &quot;secret&quot;: &quot;s3&quot;,</div><div class="line">    &quot;tag&quot;: 2,</div><div class="line">    &quot;user&quot;: &quot;u3&quot;,</div><div class="line">    &quot;msecret&quot;: &quot;ms3&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_secret_to_iscsi_auth_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_secret_from_iscsi_auth_group"></a>
delete_secret_from_iscsi_auth_group</h2>
<p>Delete a secret from an existing authentication group for CHAP authentication.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Authentication group tag (unique, integer &gt; 0) </td></tr>
<tr>
<td>user </td><td>Required </td><td>string </td><td>Unidirectional CHAP name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;tag&quot;: 2,</div><div class="line">    &quot;user&quot;: &quot;u3&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_secret_from_iscsi_auth_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_initiator_groups"></a>
get_initiator_groups method</h2>
<p>Show information about all available initiator groups.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Result</h3>
<p>Array of objects describing initiator groups.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>number </td><td>Initiator group tag </td></tr>
<tr>
<td>initiators </td><td>array </td><td>Array of initiator hostnames or IP addresses </td></tr>
<tr>
<td>netmasks </td><td>array </td><td>Array of initiator netmasks </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_initiator_groups&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;initiators&quot;: [</div><div class="line">        &quot;iqn.2016-06.io.spdk:host1&quot;,</div><div class="line">        &quot;iqn.2016-06.io.spdk:host2&quot;</div><div class="line">      ],</div><div class="line">      &quot;tag&quot;: 1,</div><div class="line">      &quot;netmasks&quot;: [</div><div class="line">        &quot;192.168.1.0/24&quot;</div><div class="line">      ]</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_initiator_group"></a>
add_initiator_group method</h2>
<p>Add an initiator group.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Initiator group tag (unique, integer &gt; 0) </td></tr>
<tr>
<td>initiators </td><td>Required </td><td>array </td><td>Not empty array of initiator hostnames or IP addresses </td></tr>
<tr>
<td>netmasks </td><td>Required </td><td>array </td><td>Not empty array of initiator netmasks </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;initiators&quot;: [</div><div class="line">      &quot;iqn.2016-06.io.spdk:host1&quot;,</div><div class="line">      &quot;iqn.2016-06.io.spdk:host2&quot;</div><div class="line">    ],</div><div class="line">    &quot;tag&quot;: 1,</div><div class="line">    &quot;netmasks&quot;: [</div><div class="line">      &quot;192.168.1.0/24&quot;</div><div class="line">    ]</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_initiator_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">response:</div><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_initiator_group"></a>
delete_initiator_group method</h2>
<p>Delete an existing initiator group.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Initiator group tag (unique, integer &gt; 0) </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;tag&quot;: 1</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_initiator_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_initiators_to_initiator_group"></a>
add_initiators_to_initiator_group method</h2>
<p>Add initiators to an existing initiator group.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Existing initiator group tag. </td></tr>
<tr>
<td>initiators </td><td>Optional </td><td>array </td><td>Array of initiator hostnames or IP addresses </td></tr>
<tr>
<td>netmasks </td><td>Optional </td><td>array </td><td>Array of initiator netmasks </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;initiators&quot;: [</div><div class="line">      &quot;iqn.2016-06.io.spdk:host3&quot;</div><div class="line">    ],</div><div class="line">    &quot;tag&quot;: 1,</div><div class="line">    &quot;netmasks&quot;: [</div><div class="line">      &quot;255.255.255.1&quot;</div><div class="line">    ]</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_initiators_to_initiator_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">response:</div><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_target_nodes"></a>
get_target_nodes method</h2>
<p>Show information about all available iSCSI target nodes.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Result</h3>
<p>Array of objects describing target node.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>string </td><td>Target node name (ASCII) </td></tr>
<tr>
<td>alias_name </td><td>string </td><td>Target node alias name (ASCII) </td></tr>
<tr>
<td>pg_ig_maps </td><td>array </td><td>Array of Portal_Group_Tag:Initiator_Group_Tag mappings </td></tr>
<tr>
<td>luns </td><td>array </td><td>Array of Bdev names to LUN ID mappings </td></tr>
<tr>
<td>queue_depth </td><td>number </td><td>Target queue depth </td></tr>
<tr>
<td>disable_chap </td><td>boolean </td><td>CHAP authentication should be disabled for this target </td></tr>
<tr>
<td>require_chap </td><td>boolean </td><td>CHAP authentication should be required for this target </td></tr>
<tr>
<td>mutual_chap </td><td>boolean </td><td>CHAP authentication should be bidirectional (<code>true</code>) or unidirectional (<code>false</code>) </td></tr>
<tr>
<td>chap_group </td><td>number </td><td>Authentication group ID for this target node </td></tr>
<tr>
<td>header_digest </td><td>boolean </td><td>Header Digest should be required for this target node </td></tr>
<tr>
<td>data_digest </td><td>boolean </td><td>Data Digest should be required for this target node </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_target_nodes&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;luns&quot;: [</div><div class="line">        {</div><div class="line">          &quot;lun_id&quot;: 0,</div><div class="line">          &quot;bdev_name&quot;: &quot;Nvme0n1&quot;</div><div class="line">        }</div><div class="line">      ],</div><div class="line">      &quot;mutual_chap&quot;: false,</div><div class="line">      &quot;name&quot;: &quot;iqn.2016-06.io.spdk:target1&quot;,</div><div class="line">      &quot;alias_name&quot;: &quot;iscsi-target1-alias&quot;,</div><div class="line">      &quot;require_chap&quot;: false,</div><div class="line">      &quot;chap_group&quot;: 0,</div><div class="line">      &quot;pg_ig_maps&quot;: [</div><div class="line">        {</div><div class="line">          &quot;ig_tag&quot;: 1,</div><div class="line">          &quot;pg_tag&quot;: 1</div><div class="line">        }</div><div class="line">      ],</div><div class="line">      &quot;data_digest&quot;: false,</div><div class="line">      &quot;disable_chap&quot;: false,</div><div class="line">      &quot;header_digest&quot;: false,</div><div class="line">      &quot;queue_depth&quot;: 64</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_target_node"></a>
construct_target_node method</h2>
<p>Add a iSCSI target node.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Target node name (ASCII) </td></tr>
<tr>
<td>alias_name </td><td>Required </td><td>string </td><td>Target node alias name (ASCII) </td></tr>
<tr>
<td>pg_ig_maps </td><td>Required </td><td>array </td><td>Array of (Portal_Group_Tag:Initiator_Group_Tag) mappings </td></tr>
<tr>
<td>luns </td><td>Required </td><td>array </td><td>Array of Bdev names to LUN ID mappings </td></tr>
<tr>
<td>queue_depth </td><td>Required </td><td>number </td><td>Target queue depth </td></tr>
<tr>
<td>disable_chap </td><td>Optional </td><td>boolean </td><td>CHAP authentication should be disabled for this target </td></tr>
<tr>
<td>require_chap </td><td>Optional </td><td>boolean </td><td>CHAP authentication should be required for this target </td></tr>
<tr>
<td>mutual_chap </td><td>Optional </td><td>boolean </td><td>CHAP authentication should be bidirectional (<code>true</code>) or unidirectional (<code>false</code>) </td></tr>
<tr>
<td>chap_group </td><td>Optional </td><td>number </td><td>Authentication group ID for this target node </td></tr>
<tr>
<td>header_digest </td><td>Optional </td><td>boolean </td><td>Header Digest should be required for this target node </td></tr>
<tr>
<td>data_digest </td><td>Optional </td><td>boolean </td><td>Data Digest should be required for this target node </td></tr>
</table>
<p>Parameters <code>disable_chap</code> and <code>require_chap</code> are mutually exclusive.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;luns&quot;: [</div><div class="line">      {</div><div class="line">        &quot;lun_id&quot;: 0,</div><div class="line">        &quot;bdev_name&quot;: &quot;Nvme0n1&quot;</div><div class="line">      }</div><div class="line">    ],</div><div class="line">    &quot;mutual_chap&quot;: true,</div><div class="line">    &quot;name&quot;: &quot;target2&quot;,</div><div class="line">    &quot;alias_name&quot;: &quot;iscsi-target2-alias&quot;,</div><div class="line">    &quot;pg_ig_maps&quot;: [</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 1,</div><div class="line">        &quot;pg_tag&quot;: 1</div><div class="line">      },</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 2,</div><div class="line">        &quot;pg_tag&quot;: 2</div><div class="line">      }</div><div class="line">    ],</div><div class="line">    &quot;data_digest&quot;: true,</div><div class="line">    &quot;disable_chap&quot;: true,</div><div class="line">    &quot;header_digest&quot;: true,</div><div class="line">    &quot;queue_depth&quot;: 24</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_target_node&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_set_iscsi_target_node_auth"></a>
set_iscsi_target_node_auth method</h2>
<p>Set CHAP authentication to an existing iSCSI target node.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Target node name (ASCII) </td></tr>
<tr>
<td>disable_chap </td><td>Optional </td><td>boolean </td><td>CHAP authentication should be disabled for this target </td></tr>
<tr>
<td>require_chap </td><td>Optional </td><td>boolean </td><td>CHAP authentication should be required for this target </td></tr>
<tr>
<td>mutual_chap </td><td>Optional </td><td>boolean </td><td>CHAP authentication should be bidirectional (<code>true</code>) or unidirectional (<code>false</code>) </td></tr>
<tr>
<td>chap_group </td><td>Optional </td><td>number </td><td>Authentication group ID for this target node </td></tr>
</table>
<p>Parameters <code>disable_chap</code> and <code>require_chap</code> are mutually exclusive.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;chap_group&quot;: 1,</div><div class="line">    &quot;require_chap&quot;: true,</div><div class="line">    &quot;name&quot;: &quot;iqn.2016-06.io.spdk:target1&quot;,</div><div class="line">    &quot;mutual_chap&quot;: true</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;set_iscsi_target_node_auth&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_pg_ig_maps"></a>
add_pg_ig_maps method</h2>
<p>Add initiator group to portal group mappings to an existing iSCSI target node.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Target node name (ASCII) </td></tr>
<tr>
<td>pg_ig_maps </td><td>Required </td><td>array </td><td>Not empty array of initiator to portal group mappings objects </td></tr>
</table>
<p>Portal to Initiator group mappings object:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ig_tag </td><td>Required </td><td>number </td><td>Existing initiator group tag </td></tr>
<tr>
<td>pg_tag </td><td>Required </td><td>number </td><td>Existing portal group tag </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;pg_ig_maps&quot;: [</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 1,</div><div class="line">        &quot;pg_tag&quot;: 1</div><div class="line">      },</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 2,</div><div class="line">        &quot;pg_tag&quot;: 2</div><div class="line">      },</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 3,</div><div class="line">        &quot;pg_tag&quot;: 3</div><div class="line">      }</div><div class="line">    ],</div><div class="line">    &quot;name&quot;: &quot;iqn.2016-06.io.spdk:target3&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_pg_ig_maps&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_pg_ig_maps"></a>
delete_pg_ig_maps method</h2>
<p>Delete initiator group to portal group mappings from an existing iSCSI target node.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Target node name (ASCII) </td></tr>
<tr>
<td>pg_ig_maps </td><td>Required </td><td>array </td><td>Not empty array of Portal to Initiator group mappings objects </td></tr>
</table>
<p>Portal to Initiator group mappings object:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ig_tag </td><td>Required </td><td>number </td><td>Existing initiator group tag </td></tr>
<tr>
<td>pg_tag </td><td>Required </td><td>number </td><td>Existing portal group tag </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;pg_ig_maps&quot;: [</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 1,</div><div class="line">        &quot;pg_tag&quot;: 1</div><div class="line">      },</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 2,</div><div class="line">        &quot;pg_tag&quot;: 2</div><div class="line">      },</div><div class="line">      {</div><div class="line">        &quot;ig_tag&quot;: 3,</div><div class="line">        &quot;pg_tag&quot;: 3</div><div class="line">      }</div><div class="line">    ],</div><div class="line">    &quot;name&quot;: &quot;iqn.2016-06.io.spdk:target3&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_pg_ig_maps&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_target_node"></a>
delete_target_node method</h2>
<p>Delete a iSCSI target node.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Target node name (ASCII) </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;iqn.2016-06.io.spdk:target1&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_target_node&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_portal_groups"></a>
get_portal_groups method</h2>
<p>Show information about all available portal groups.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_portal_groups&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;portals&quot;: [</div><div class="line">        {</div><div class="line">          &quot;cpumask&quot;: &quot;0x2&quot;,</div><div class="line">          &quot;host&quot;: &quot;127.0.0.1&quot;,</div><div class="line">          &quot;port&quot;: &quot;3260&quot;</div><div class="line">        }</div><div class="line">      ],</div><div class="line">      &quot;tag&quot;: 1</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_portal_group"></a>
add_portal_group method</h2>
<p>Add a portal group.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Portal group tag </td></tr>
<tr>
<td>portals </td><td>Required </td><td>array </td><td>Not empty array of portals </td></tr>
</table>
<p>Portal object</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>host </td><td>Required </td><td>string </td><td>Hostname or IP address </td></tr>
<tr>
<td>port </td><td>Required </td><td>string </td><td>Port number </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;portals&quot;: [</div><div class="line">      {</div><div class="line">        &quot;host&quot;: &quot;127.0.0.1&quot;,</div><div class="line">        &quot;port&quot;: &quot;3260&quot;</div><div class="line">      }</div><div class="line">    ],</div><div class="line">    &quot;tag&quot;: 1</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_portal_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_portal_group"></a>
delete_portal_group method</h2>
<p>Delete an existing portal group.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>tag </td><td>Required </td><td>number </td><td>Existing portal group tag </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;tag&quot;: 1</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;delete_portal_group&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_iscsi_connections"></a>
get_iscsi_connections method</h2>
<p>Show information about all active connections.</p>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Results</h3>
<p>Array of objects describing iSCSI connection.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>id </td><td>number </td><td>Index (used for TTT - Target Transfer Tag) </td></tr>
<tr>
<td>cid </td><td>number </td><td>CID (Connection ID) </td></tr>
<tr>
<td>tsih </td><td>number </td><td>TSIH (Target Session Identifying Handle) </td></tr>
<tr>
<td>lcore_id </td><td>number </td><td>Core number on which the iSCSI connection runs </td></tr>
<tr>
<td>initiator_addr </td><td>string </td><td>Initiator address </td></tr>
<tr>
<td>target_addr </td><td>string </td><td>Target address </td></tr>
<tr>
<td>target_node_name </td><td>string </td><td>Target node name (ASCII) without prefix </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_iscsi_connections&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;tsih&quot;: 4,</div><div class="line">      &quot;cid&quot;: 0,</div><div class="line">      &quot;target_node_name&quot;: &quot;target1&quot;,</div><div class="line">      &quot;lcore_id&quot;: 0,</div><div class="line">      &quot;initiator_addr&quot;: &quot;10.0.0.2&quot;,</div><div class="line">      &quot;target_addr&quot;: &quot;10.0.0.1&quot;,</div><div class="line">      &quot;id&quot;: 0</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_target_node_add_lun"></a>
target_node_add_lun method</h2>
<p>Add an LUN to an existing iSCSI target node.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Target node name (ASCII) </td></tr>
<tr>
<td>bdev_name </td><td>Required </td><td>string </td><td>bdev name to be added as a LUN </td></tr>
<tr>
<td>lun_id </td><td>Optional </td><td>number </td><td>LUN ID (default: first free ID) </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;lun_id&quot;: 2,</div><div class="line">    &quot;name&quot;: &quot;iqn.2016-06.io.spdk:target1&quot;,</div><div class="line">    &quot;bdev_name&quot;: &quot;Malloc0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;target_node_add_lun&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="jsonrpc_components_nvmf_tgt"></a>
NVMe-oF Target</h1>
<h2><a class="anchor" id="rpc_get_nvmf_subsystems"></a>
get_nvmf_subsystems method</h2>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_nvmf_subsystems&quot;</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;nqn&quot;: &quot;nqn.2014-08.org.nvmexpress.discovery&quot;,</div><div class="line">      &quot;subtype&quot;: &quot;Discovery&quot;</div><div class="line">      &quot;listen_addresses&quot;: [],</div><div class="line">      &quot;hosts&quot;: [],</div><div class="line">      &quot;allow_any_host&quot;: true</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">      &quot;subtype&quot;: &quot;NVMe&quot;,</div><div class="line">      &quot;listen_addresses&quot;: [</div><div class="line">        {</div><div class="line">          &quot;trtype&quot;: &quot;RDMA&quot;,</div><div class="line">          &quot;adrfam&quot;: &quot;IPv4&quot;,</div><div class="line">          &quot;traddr&quot;: &quot;192.168.0.123&quot;,</div><div class="line">          &quot;trsvcid&quot;: &quot;4420&quot;</div><div class="line">        }</div><div class="line">      ],</div><div class="line">      &quot;hosts&quot;: [</div><div class="line">        {&quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:host1&quot;}</div><div class="line">      ],</div><div class="line">      &quot;allow_any_host&quot;: false,</div><div class="line">      &quot;serial_number&quot;: &quot;abcdef&quot;,</div><div class="line">      &quot;namespaces&quot;: [</div><div class="line">        {&quot;nsid&quot;: 1, &quot;name&quot;: &quot;Malloc2&quot;},</div><div class="line">        {&quot;nsid&quot;: 2, &quot;name&quot;: &quot;Nvme0n1&quot;}</div><div class="line">      ]</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_create"></a>
nvmf_subsystem_create method</h2>
<p>Construct an NVMe over Fabrics target subsystem.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>serial_number </td><td>Optional </td><td>string </td><td>Serial number of virtual controller </td></tr>
<tr>
<td>max_namespaces </td><td>Optional </td><td>number </td><td>Maximum number of namespaces that can be attached to the subsystem. Default: 0 (Unlimited) </td></tr>
<tr>
<td>allow_any_host </td><td>Optional </td><td>boolean </td><td>Allow any host (<code>true</code>) or enforce allowed host whitelist (<code>false</code>). Default: <code>false</code>. </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_create&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;allow_any_host&quot;: false,</div><div class="line">    &quot;serial_number&quot;: &quot;abcdef&quot;,</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_delete_nvmf_subsystem"></a>
delete_nvmf_subsystem method</h2>
<p>Delete an existing NVMe-oF subsystem.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Parameter </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN to delete. </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;delete_nvmf_subsystem&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_add_listener"></a>
nvmf_subsystem_add_listener  method</h2>
<p>Add a new listen address to an NVMe-oF subsystem.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>listen_address </td><td>Required </td><td>object </td><td><a class="el" href="jsonrpc.html#rpc_nvmf_listen_address">listen_address</a> object </td></tr>
</table>
<h3><a class="anchor" id="rpc_nvmf_listen_address"></a>
listen_address</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>trtype </td><td>Required </td><td>string </td><td>Transport type ("RDMA") </td></tr>
<tr>
<td>adrfam </td><td>Required </td><td>string </td><td>Address family ("IPv4", "IPv6", "IB", or "FC") </td></tr>
<tr>
<td>traddr </td><td>Required </td><td>string </td><td>Transport address </td></tr>
<tr>
<td>trsvcid </td><td>Required </td><td>string </td><td>Transport service ID </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_add_listener&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;listen_address&quot;: {</div><div class="line">      &quot;trtype&quot;: &quot;RDMA&quot;,</div><div class="line">      &quot;adrfam&quot;: &quot;IPv4&quot;,</div><div class="line">      &quot;traddr&quot;: &quot;192.168.0.123&quot;,</div><div class="line">      &quot;trsvcid: &quot;4420&quot;</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_add_ns"></a>
nvmf_subsystem_add_ns method</h2>
<p>Add a namespace to a subsystem. The namespace ID is returned as the result.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>namespace </td><td>Required </td><td>object </td><td><a class="el" href="jsonrpc.html#rpc_nvmf_namespace">namespace</a> object </td></tr>
</table>
<h3><a class="anchor" id="rpc_nvmf_namespace"></a>
namespace</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nsid </td><td>Optional </td><td>number </td><td>Namespace ID between 1 and 4294967294, inclusive. Default: Automatically assign NSID. </td></tr>
<tr>
<td>bdev_name </td><td>Required </td><td>string </td><td>Name of bdev to expose as a namespace. </td></tr>
<tr>
<td>nguid </td><td>Optional </td><td>string </td><td>16-byte namespace globally unique identifier in hexadecimal (e.g. "ABCDEF0123456789ABCDEF0123456789") </td></tr>
<tr>
<td>eui64 </td><td>Optional </td><td>string </td><td>8-byte namespace EUI-64 in hexadecimal (e.g. "ABCDEF0123456789") </td></tr>
<tr>
<td>uuid </td><td>Optional </td><td>string </td><td>RFC 4122 UUID (e.g. "ceccf520-691e-4b46-9546-34af789907c5") </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_add_ns&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;namespace&quot;: {</div><div class="line">      &quot;nsid&quot;: 3,</div><div class="line">      &quot;bdev_name&quot;: &quot;Nvme0n1&quot;</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: 3</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_remove_ns"></a>
nvmf_subsystem_remove_ns method</h2>
<p>Remove a namespace from a subsystem.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>nsid </td><td>Required </td><td>number </td><td>Namespace ID </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_remove_ns&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;nsid&quot;: 1</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_add_host"></a>
nvmf_subsystem_add_host method</h2>
<p>Add a host NQN to the whitelist of allowed hosts.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>host </td><td>Required </td><td>string </td><td>Host NQN to add to the list of allowed host NQNs </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_add_host&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;host&quot;: &quot;nqn.2016-06.io.spdk:host1&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_remove_host"></a>
nvmf_subsystem_remove_host method</h2>
<p>Remove a host NQN from the whitelist of allowed hosts.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>host </td><td>Required </td><td>string </td><td>Host NQN to remove from the list of allowed host NQNs </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_remove_host&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;host&quot;: &quot;nqn.2016-06.io.spdk:host1&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_nvmf_subsystem_allow_any_host"></a>
nvmf_subsystem_allow_any_host method</h2>
<p>Configure a subsystem to allow any host to connect or to enforce the host NQN whitelist.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nqn </td><td>Required </td><td>string </td><td>Subsystem NQN </td></tr>
<tr>
<td>allow_any_host </td><td>Required </td><td>boolean </td><td>Allow any host (<code>true</code>) or enforce allowed host whitelist (<code>false</code>). </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;nvmf_subsystem_allow_any_host&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;nqn&quot;: &quot;nqn.2016-06.io.spdk:cnode1&quot;,</div><div class="line">    &quot;allow_any_host&quot;: true</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_set_nvmf_target_options"></a>
set_nvmf_target_options</h2>
<p>Set global parameters for the NVMe-oF target. This RPC may only be called before SPDK subsystems have been initialized.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>max_queue_depth </td><td>Optional </td><td>number </td><td>Maximum number of outstanding I/Os per queue </td></tr>
<tr>
<td>max_qpairs_per_ctrlr </td><td>Optional </td><td>number </td><td>Maximum number of SQ and CQ per controller </td></tr>
<tr>
<td>in_capsule_data_size </td><td>Optional </td><td>number </td><td>Maximum number of in-capsule data size </td></tr>
<tr>
<td>max_io_size </td><td>Optional </td><td>number </td><td>Maximum I/O size (bytes) </td></tr>
<tr>
<td>max_subsystems </td><td>Optional </td><td>number </td><td>Maximum number of NVMe-oF subsystems </td></tr>
<tr>
<td>io_unit_size </td><td>Optional </td><td>number </td><td>I/O unit size (bytes) </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;set_nvmf_target_options&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;in_capsule_data_size&quot;: 4096,</div><div class="line">    &quot;io_unit_size&quot;: 131072,</div><div class="line">    &quot;max_qpairs_per_ctrlr&quot;: 64,</div><div class="line">    &quot;max_queue_depth&quot;: 128,</div><div class="line">    &quot;max_io_size&quot;: 131072,</div><div class="line">    &quot;max_subsystems&quot;: 1024</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_set_nvmf_target_config"></a>
set_nvmf_target_config</h2>
<p>Set global configuration of NVMe-oF target. This RPC may only be called before SPDK subsystems have been initialized.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>acceptor_poll_rate </td><td>Optional </td><td>number </td><td>Polling interval of the acceptor for incoming connections (microseconds) </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;set_nvmf_target_config&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;acceptor_poll_rate&quot;: 10000</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_nvmf_transports"></a>
get_nvmf_transports method</h2>
<h3>Parameters</h3>
<p>This method has no parameters.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;get_nvmf_transports&quot;</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;type&quot;: &quot;RDMA&quot;.</div><div class="line">      &quot;max_queue_depth&quot;: 128,</div><div class="line">      &quot;max_qpairs_per_ctrlr&quot;: 64,</div><div class="line">      &quot;in_capsule_data_size&quot;: 4096,</div><div class="line">      &quot;max_io_size&quot;: 131072,</div><div class="line">      &quot;io_unit_size&quot;: 131072</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="jsonrpc_components_vhost_tgt"></a>
Vhost Target</h1>
<p>The following common preconditions need to be met in all target types.</p>
<p>Controller name will be used to create UNIX domain socket. This implies that name concatenated with vhost socket directory path needs to be valid UNIX socket name.</p>
<p><a class="el" href="app_overview.html#cpu_mask">CPU mask</a> parameter is used to choose CPU on which pollers will be launched when new initiator is connecting. It must be a subset of application CPU mask. Default value is CPU mask of the application.</p>
<h2><a class="anchor" id="rpc_set_vhost_controller_coalescing"></a>
set_vhost_controller_coalescing</h2>
<p>Controls interrupt coalescing for specific target. Because <code>delay_base_us</code> is used to calculate delay in CPU ticks there is no hardcoded limit for this parameter. Only limitation is that final delay in CPU ticks might not overflow 32 bit unsigned integer (which is more than 1s @ 4GHz CPU). In real scenarios <code>delay_base_us</code> should be much lower than 150us. To disable coalescing set <code>delay_base_us</code> to 0.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>delay_base_us </td><td>Required </td><td>number </td><td>Base (minimum) coalescing time in microseconds </td></tr>
<tr>
<td>iops_threshold </td><td>Required </td><td>number </td><td>Coalescing activation level greater than 0 in IO per second </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;iops_threshold&quot;: 100000,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostScsi0&quot;,</div><div class="line">    &quot;delay_base_us&quot;: 80</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;set_vhost_controller_coalescing&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_vhost_scsi_controller"></a>
construct_vhost_scsi_controller</h2>
<p>Construct vhost SCSI target.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>cpumask </td><td>Optional </td><td>string </td><td><a class="el" href="app_overview.html#cpu_mask">CPU mask</a> for this controller </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;cpumask&quot;: &quot;0x2&quot;,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostScsi0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_vhost_scsi_controller&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_vhost_scsi_lun"></a>
add_vhost_scsi_lun</h2>
<p>In vhost target <code>ctrlr</code> create SCSI target with ID <code>scsi_target_num</code> and add <code>bdev_name</code> as LUN 0.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>scsi_target_num </td><td>Required </td><td>number </td><td>SCSI target ID between 0 and 7 </td></tr>
<tr>
<td>bdev_name </td><td>Required </td><td>string </td><td>Name of bdev to expose as a LUN 0 </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;scsi_target_num&quot;: 1,</div><div class="line">    &quot;bdev_name&quot;: &quot;Malloc0&quot;,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostScsi0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_vhost_scsi_lun&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">response:</div><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_remove_vhost_scsi_target"></a>
remove_vhost_scsi_target</h2>
<p>Remove SCSI target ID <code>scsi_target_num</code> from vhost target <code>scsi_target_num</code>.</p>
<p>This method will fail if initiator is connected, but doesn't support hot-remove (the <code>VIRTIO_SCSI_F_HOTPLUG</code> is not negotiated).</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>scsi_target_num </td><td>Required </td><td>number </td><td>SCSI target ID between 0 and 7 </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">request:</div><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;scsi_target_num&quot;: 1,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostScsi0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;remove_vhost_scsi_target&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_vhost_nvme_controller"></a>
construct_vhost_nvme_controller</h2>
<p>Construct empty vhost NVMe controller.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>io_queues </td><td>Required </td><td>number </td><td>Number between 1 and 31 of IO queues for the controller </td></tr>
<tr>
<td>cpumask </td><td>Optional </td><td>string </td><td><a class="el" href="app_overview.html#cpu_mask">CPU mask</a> for this controller </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;cpumask&quot;: &quot;0x2&quot;,</div><div class="line">    &quot;io_queues&quot;: 4,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostNvme0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_vhost_nvme_controller&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_add_vhost_nvme_ns"></a>
add_vhost_nvme_ns</h2>
<p>Add namespace backed by <code>bdev_name</code></p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>bdev_name </td><td>Required </td><td>string </td><td>Name of bdev to expose as a namespace </td></tr>
<tr>
<td>cpumask </td><td>Optional </td><td>string </td><td><a class="el" href="app_overview.html#cpu_mask">CPU mask</a> for this controller </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;bdev_name&quot;: &quot;Malloc0&quot;,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostNvme0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;add_vhost_nvme_ns&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_vhost_blk_controller"></a>
construct_vhost_blk_controller</h2>
<p>Construct vhost block controller</p>
<p>If <code>readonly</code> is <code>true</code> then vhost block target will be created as read only and fail any write requests. The <code>VIRTIO_BLK_F_RO</code> feature flag will be offered to the initiator.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>bdev_name </td><td>Required </td><td>string </td><td>Name of bdev to expose block device </td></tr>
<tr>
<td>readonly </td><td>Optional </td><td>boolean </td><td>If true, this target will be read only (default: false) </td></tr>
<tr>
<td>cpumask </td><td>Optional </td><td>string </td><td><a class="el" href="app_overview.html#cpu_mask">CPU mask</a> for this controller </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;dev_name&quot;: &quot;Malloc0&quot;,</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostBlk0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_vhost_blk_controller&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_vhost_controllers"></a>
get_vhost_controllers</h2>
<p>Display information about all or specific vhost controller(s).</p>
<h3>Parameters</h3>
<p>The user may specify no parameters in order to list all controllers, or a controller may be specified by name.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Optional </td><td>string </td><td>Vhost controller name </td></tr>
</table>
<h3><a class="anchor" id="rpc_get_vhost_controllers_response"></a>
Response</h3>
<p>Response is an array of objects describing requested controller(s). Common fields are:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>string </td><td>Controller name </td></tr>
<tr>
<td>cpumask </td><td>string </td><td><a class="el" href="app_overview.html#cpu_mask">CPU mask</a> of this controller </td></tr>
<tr>
<td>delay_base_us </td><td>number </td><td>Base (minimum) coalescing time in microseconds (0 if disabled) </td></tr>
<tr>
<td>iops_threshold </td><td>number </td><td>Coalescing activation level </td></tr>
<tr>
<td>backend_specific </td><td>object </td><td>Backend specific informations </td></tr>
</table>
<h3><a class="anchor" id="rpc_get_vhost_controllers_blk"></a>
Vhost block</h3>
<p><code>backend_specific</code> contains one <code>block</code> object of type:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>bdev </td><td>string </td><td>Backing bdev name or Null if bdev is hot-removed </td></tr>
<tr>
<td>readonly </td><td>boolean </td><td>True if controllers is readonly, false otherwise </td></tr>
</table>
<h3><a class="anchor" id="rpc_get_vhost_controllers_scsi"></a>
Vhost SCSI</h3>
<p><code>backend_specific</code> contains <code>scsi</code> array of following objects:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>target_name </td><td>string </td><td>Name of this SCSI target </td></tr>
<tr>
<td>id </td><td>number </td><td>Unique SPDK global SCSI target ID </td></tr>
<tr>
<td>scsi_dev_num </td><td>number </td><td>SCSI target ID initiator will see when scanning this controller </td></tr>
<tr>
<td>luns </td><td>array </td><td>array of objects describing <a class="el" href="jsonrpc.html#rpc_get_vhost_controllers_scsi_luns">Vhost SCSI LUN</a> </td></tr>
</table>
<h3><a class="anchor" id="rpc_get_vhost_controllers_scsi_luns"></a>
Vhost SCSI LUN</h3>
<p>Object of type:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>id </td><td>number </td><td>SCSI LUN ID </td></tr>
<tr>
<td>bdev_name </td><td>string </td><td>Backing bdev name </td></tr>
</table>
<h3><a class="anchor" id="rpc_get_vhost_controllers_nvme"></a>
Vhost NVMe</h3>
<p><code>backend_specific</code> contains <code>namespaces</code> array of following objects:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>nsid </td><td>number </td><td>Namespace ID </td></tr>
<tr>
<td>bdev </td><td>string </td><td>Backing bdev name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_vhost_controllers&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;cpumask&quot;: &quot;0x2&quot;,</div><div class="line">      &quot;backend_specific&quot;: {</div><div class="line">        &quot;block&quot;: {</div><div class="line">          &quot;readonly&quot;: false,</div><div class="line">          &quot;bdev&quot;: &quot;Malloc0&quot;</div><div class="line">        }</div><div class="line">      },</div><div class="line">      &quot;iops_threshold&quot;: 60000,</div><div class="line">      &quot;ctrlr&quot;: &quot;VhostBlk0&quot;,</div><div class="line">      &quot;delay_base_us&quot;: 100</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;cpumask&quot;: &quot;0x2&quot;,</div><div class="line">      &quot;backend_specific&quot;: {</div><div class="line">        &quot;scsi&quot;: [</div><div class="line">          {</div><div class="line">            &quot;target_name&quot;: &quot;Target 2&quot;,</div><div class="line">            &quot;luns&quot;: [</div><div class="line">              {</div><div class="line">                &quot;id&quot;: 0,</div><div class="line">                &quot;bdev_name&quot;: &quot;Malloc1&quot;</div><div class="line">              }</div><div class="line">            ],</div><div class="line">            &quot;id&quot;: 0,</div><div class="line">            &quot;scsi_dev_num&quot;: 2</div><div class="line">          },</div><div class="line">          {</div><div class="line">            &quot;target_name&quot;: &quot;Target 5&quot;,</div><div class="line">            &quot;luns&quot;: [</div><div class="line">              {</div><div class="line">                &quot;id&quot;: 0,</div><div class="line">                &quot;bdev_name&quot;: &quot;Malloc2&quot;</div><div class="line">              }</div><div class="line">            ],</div><div class="line">            &quot;id&quot;: 1,</div><div class="line">            &quot;scsi_dev_num&quot;: 5</div><div class="line">          }</div><div class="line">        ]</div><div class="line">      },</div><div class="line">      &quot;iops_threshold&quot;: 60000,</div><div class="line">      &quot;ctrlr&quot;: &quot;VhostScsi0&quot;,</div><div class="line">      &quot;delay_base_us&quot;: 0</div><div class="line">    },</div><div class="line">    {</div><div class="line">      &quot;cpumask&quot;: &quot;0x2&quot;,</div><div class="line">      &quot;backend_specific&quot;: {</div><div class="line">        &quot;namespaces&quot;: [</div><div class="line">          {</div><div class="line">            &quot;bdev&quot;: &quot;Malloc3&quot;,</div><div class="line">            &quot;nsid&quot;: 1</div><div class="line">          },</div><div class="line">          {</div><div class="line">            &quot;bdev&quot;: &quot;Malloc4&quot;,</div><div class="line">            &quot;nsid&quot;: 2</div><div class="line">          }</div><div class="line">        ]</div><div class="line">      },</div><div class="line">      &quot;iops_threshold&quot;: 60000,</div><div class="line">      &quot;ctrlr&quot;: &quot;VhostNvme0&quot;,</div><div class="line">      &quot;delay_base_us&quot;: 0</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_remove_vhost_controller"></a>
remove_vhost_controller</h2>
<p>Remove vhost target.</p>
<p>This call will fail if there is an initiator connected or there is at least one SCSI target configured in case of vhost SCSI target. In the later case please remove all SCSI targets first using <a class="el" href="jsonrpc.html#rpc_remove_vhost_scsi_target">remove_vhost_scsi_target</a>.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>ctrlr </td><td>Required </td><td>string </td><td>Controller name </td></tr>
</table>
<h3>Example</h3>
<p>Example request:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;ctrlr&quot;: &quot;VhostNvme0&quot;</div><div class="line">  },</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;remove_vhost_controller&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>Example response:</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="jsonrpc_components_lvol"></a>
Logical Volume</h1>
<p>Identification of logical volume store and logical volume is explained first.</p>
<p>A logical volume store has a UUID and a name for its identification. The UUID is generated on creation and it can be used as a unique identifier. The name is specified on creation and can be renamed. Either UUID or name is used to access logical volume store in RPCs.</p>
<p>A logical volume has a UUID and a name for its identification. The UUID of the logical volume is generated on creation and it can be unique identifier. The alias of the logical volume takes the format <em>lvs_name/lvol_name</em> where:</p><ul>
<li><em>lvs_name</em> is the name of the logical volume store.</li>
<li><em>lvol_name</em> is specified on creation and can be renamed.</li>
</ul>
<h2><a class="anchor" id="rpc_construct_lvol_store"></a>
construct_lvol_store</h2>
<p>Construct a logical volume store.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>bdev_name </td><td>Required </td><td>string </td><td>Bdev on which to construct logical volume store </td></tr>
<tr>
<td>lvs_name </td><td>Required </td><td>string </td><td>Name of the logical volume store to create </td></tr>
<tr>
<td>cluster_sz </td><td>Optional </td><td>number </td><td>Cluster size of the logical volume store in bytes </td></tr>
</table>
<h3>Response</h3>
<p>UUID of the created logical volume store is returned.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;method&quot;: &quot;construct_lvol_store&quot;,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;lvs_name&quot;: &quot;LVS0&quot;,</div><div class="line">    &quot;bdev_name&quot;: &quot;Malloc0&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;a9959197-b5e2-4f2d-8095-251ffb6985a5&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_destroy_lvol_store"></a>
destroy_lvol_store</h2>
<p>Destroy a logical volume store.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>uuid </td><td>Optional </td><td>string </td><td>UUID of the logical volume store to destroy </td></tr>
<tr>
<td>lvs_name </td><td>Optional </td><td>string </td><td>Name of the logical volume store to destroy </td></tr>
</table>
<p>Either uuid or lvs_name must be specified, but not both.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;destroy_lvol_store&quot;,</div><div class="line">  &quot;id&quot;: 1</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;uuid&quot;: &quot;a9959197-b5e2-4f2d-8095-251ffb6985a5&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_get_lvol_stores"></a>
get_lvol_stores</h2>
<p>Get a list of logical volume stores.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>uuid </td><td>Optional </td><td>string </td><td>UUID of the logical volume store to retrieve information about </td></tr>
<tr>
<td>lvs_name </td><td>Optional </td><td>string </td><td>Name of the logical volume store to retrieve information about </td></tr>
</table>
<p>Either uuid or lvs_name may be specified, but not both. If both uuid and lvs_name are omitted, information about all logical volume stores is returned.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;get_lvol_stores&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;lvs_name&quot;: &quot;LVS0&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: [</div><div class="line">    {</div><div class="line">      &quot;uuid&quot;: &quot;a9959197-b5e2-4f2d-8095-251ffb6985a5&quot;,</div><div class="line">      &quot;base_bdev&quot;: &quot;Malloc0&quot;,</div><div class="line">      &quot;free_clusters&quot;: 31,</div><div class="line">      &quot;cluster_size&quot;: 4194304,</div><div class="line">      &quot;total_data_clusters&quot;: 31,</div><div class="line">      &quot;block_size&quot;: 4096,</div><div class="line">      &quot;name&quot;: &quot;LVS0&quot;</div><div class="line">    }</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_rename_lvol_store"></a>
rename_lvol_store</h2>
<p>Rename a logical volume store.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>old_name </td><td>Required </td><td>string </td><td>Existing logical volume store name </td></tr>
<tr>
<td>new_name </td><td>Required </td><td>string </td><td>New logical volume store name </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;rename_lvol_store&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;old_name&quot;: &quot;LVS0&quot;,</div><div class="line">    &quot;new_name&quot;: &quot;LVS2&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_construct_lvol_bdev"></a>
construct_lvol_bdev</h2>
<p>Create a logical volume on a logical volume store.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>lvol_name </td><td>Required </td><td>string </td><td>Name of logical volume to create </td></tr>
<tr>
<td>size </td><td>Required </td><td>number </td><td>Desired size of logical volume in bytes </td></tr>
<tr>
<td>thin_provision </td><td>Optional </td><td>boolean </td><td>True to enable thin provisioning </td></tr>
<tr>
<td>uuid </td><td>Optional </td><td>string </td><td>UUID of logical volume store to create logical volume on </td></tr>
<tr>
<td>lvs_name </td><td>Optional </td><td>string </td><td>Name of logical volume store to create logical volume on </td></tr>
</table>
<p>Size will be rounded up to a multiple of cluster size. Either uuid or lvs_name must be specified, but not both. lvol_name will be used in the alias of the created logical volume.</p>
<h3>Response</h3>
<p>UUID of the created logical volume is returned.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;construct_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;lvol_name&quot;: &quot;LVOL0&quot;,</div><div class="line">    &quot;size&quot;: 1048576,</div><div class="line">    &quot;lvs_name&quot;: &quot;LVS0&quot;,</div><div class="line">    &quot;thin_provision&quot;: true</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;1b38702c-7f0c-411e-a962-92c6a5a8a602&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_snapshot_lvol_bdev"></a>
snapshot_lvol_bdev</h2>
<p>Capture a snapshot of the current state of a logical volume.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>lvol_name </td><td>Required </td><td>string </td><td>UUID or alias of the logical volume to create a snapshot from </td></tr>
<tr>
<td>snapshot_name </td><td>Required </td><td>string </td><td>Name for the newly created snapshot </td></tr>
</table>
<h3>Response</h3>
<p>UUID of the created logical volume snapshot is returned.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;snapshot_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;lvol_name&quot;: &quot;1b38702c-7f0c-411e-a962-92c6a5a8a602&quot;,</div><div class="line">    &quot;snapshot_name&quot;: &quot;SNAP1&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;cc8d7fdf-7865-4d1f-9fc6-35da8e368670&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_clone_lvol_bdev"></a>
clone_lvol_bdev</h2>
<p>Create a logical volume based on a snapshot.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>snapshot_name </td><td>Required </td><td>string </td><td>UUID or alias of the snapshot to clone </td></tr>
<tr>
<td>clone_name </td><td>Required </td><td>string </td><td>Name for the logical volume to create </td></tr>
</table>
<h3>Response</h3>
<p>UUID of the created logical volume clone is returned.</p>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;</div><div class="line">  &quot;method&quot;: &quot;clone_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;snapshot_name&quot;: &quot;cc8d7fdf-7865-4d1f-9fc6-35da8e368670&quot;,</div><div class="line">    &quot;clone_name&quot;: &quot;CLONE1&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: &quot;8d87fccc-c278-49f0-9d4c-6237951aca09&quot;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_rename_lvol_bdev"></a>
rename_lvol_bdev</h2>
<p>Rename a logical volume. New name will rename only the alias of the logical volume.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>old_name </td><td>Required </td><td>string </td><td>UUID or alias of the existing logical volume </td></tr>
<tr>
<td>new_name </td><td>Required </td><td>string </td><td>New logical volume name </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;rename_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;old_name&quot;: &quot;067df606-6dbc-4143-a499-0d05855cb3b8&quot;,</div><div class="line">    &quot;new_name&quot;: &quot;LVOL2&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_resize_lvol_bdev"></a>
resize_lvol_bdev</h2>
<p>Resize a logical volume.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>UUID or alias of the logical volume to resize </td></tr>
<tr>
<td>size </td><td>Required </td><td>number </td><td>Desired size of the logical volume in bytes </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;resize_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;51638754-ca16-43a7-9f8f-294a0805ab0a&quot;,</div><div class="line">    &quot;size&quot;: 2097152</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_destroy_lvol_bdev"></a>
destroy_lvol_bdev</h2>
<p>Destroy a logical volume.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>UUID or alias of the logical volume to destroy </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;destroy_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;51638754-ca16-43a7-9f8f-294a0805ab0a&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_inflate_lvol_bdev"></a>
inflate_lvol_bdev</h2>
<p>Inflate a logical volume. All unallocated clusters are allocated and copied from the parent or zero filled if not allocated in the parent. Then all dependencies on the parent are removed.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>UUID or alias of the logical volume to inflate </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;inflate_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;8d87fccc-c278-49f0-9d4c-6237951aca09&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_decouple_parent_lvol_bdev"></a>
decouple_parent_lvol_bdev</h2>
<p>Decouple the parent of a logical volume. For unallocated clusters which is allocated in the parent, they are allocated and copied from the parent, but for unallocated clusters which is thin provisioned in the parent, they are kept thin provisioned. Then all dependencies on the parent are removed.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>UUID or alias of the logical volume to decouple the parent of it </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;decouple_parent_lvol_bdev&quot;,</div><div class="line">  &quot;id&quot;: 1.</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;8d87fccc-c278-49f0-9d4c-6237951aca09&quot;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;: true</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="rpc_send_nvme_cmd"></a>
send_nvme_cmd</h2>
<p>Send NVMe command directly to NVMe controller or namespace. Parameters and responses encoded by base64 urlsafe need further processing.</p>
<p>Notice: send_nvme_cmd requires user to guarentee the correctness of NVMe command itself, and also optional parameters. Illegal command contents or mismatching buffer size may result in unpredictable behavior.</p>
<h3>Parameters</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Optional </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>name </td><td>Required </td><td>string </td><td>Name of the operating NVMe controller </td></tr>
<tr>
<td>cmd_type </td><td>Required </td><td>string </td><td>Type of nvme cmd. Valid values are: admin, io </td></tr>
<tr>
<td>data_direction </td><td>Required </td><td>string </td><td>Direction of data transfer. Valid values are: c2h, h2c </td></tr>
<tr>
<td>cmdbuf </td><td>Required </td><td>string </td><td>NVMe command encoded by base64 urlsafe </td></tr>
<tr>
<td>data </td><td>Optional </td><td>string </td><td>Data transferring to controller from host, encoded by base64 urlsafe </td></tr>
<tr>
<td>metadata </td><td>Optional </td><td>string </td><td>Metadata transferring to controller from host, encoded by base64 urlsafe </td></tr>
<tr>
<td>data_len </td><td>Optional </td><td>number </td><td>Data length required to transfer from controller to host </td></tr>
<tr>
<td>metadata_len </td><td>Optional </td><td>number </td><td>Metadata length required to transfer from controller to host </td></tr>
<tr>
<td>timeout_ms </td><td>Optional </td><td>number </td><td>Command execution timeout value, in milliseconds </td></tr>
</table>
<h3>Response</h3>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Description  </th></tr>
<tr>
<td>cpl </td><td>string </td><td>NVMe completion queue entry, encoded by base64 urlsafe </td></tr>
<tr>
<td>data </td><td>string </td><td>Data transferred from controller to host, encoded by base64 urlsafe </td></tr>
<tr>
<td>metadata </td><td>string </td><td>Metadata transferred from controller to host, encoded by base64 urlsafe </td></tr>
</table>
<h3>Example</h3>
<p>Example request: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;method&quot;: &quot;send_nvme_cmd&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;params&quot;: {</div><div class="line">    &quot;name&quot;: &quot;Nvme0&quot;,</div><div class="line">    &quot;cmd_type&quot;: &quot;admin&quot;</div><div class="line">    &quot;data_direction&quot;: &quot;c2h&quot;,</div><div class="line">    &quot;cmdbuf&quot;: &quot;BgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAsGUs9P5_AAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==&quot;,</div><div class="line">    &quot;data_len&quot;: 60,</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example response: </p><div class="fragment"><div class="line">{</div><div class="line">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</div><div class="line">  &quot;id&quot;: 1,</div><div class="line">  &quot;result&quot;:  {</div><div class="line">    &quot;cpl&quot;: &quot;AAAAAAAAAAARAAAAWrmwABAA==&quot;,</div><div class="line">    &quot;data&quot;: &quot;sIjg6AAAAACwiODoAAAAALCI4OgAAAAAAAYAAREAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;</div><div class="line">  }</div><div class="line"></div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
</div>
