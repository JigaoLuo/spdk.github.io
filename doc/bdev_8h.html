<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.13">
  <title>SPDK: bdev.h File Reference</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-sm-12">
        <section id="banner-header" class="banner-header">
          <div class="banner-message">
            <h1>Storage Performance Development Kit</h1>
            <hr class="banner-divider">
          </div>
        </section>
        <section id="nav">
          <div class="navbar navbar-default banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://github.com/spdk/spdk/wiki/Roadmap">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.13 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_67fbcc0b4317645100def1406b508c33.html">spdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bdev.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Block device abstraction layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a22219ae3fb084dcb87bcc6d454b415aa"><td class="memItemLeft" align="right" valign="top"><a id="a22219ae3fb084dcb87bcc6d454b415aa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_BDEV_SMALL_BUF_MAX_SIZE</b>&#160;&#160;&#160;8192</td></tr>
<tr class="separator:a22219ae3fb084dcb87bcc6d454b415aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9496c34e0fc135e1f309fd586e8e65d0"><td class="memItemLeft" align="right" valign="top"><a id="a9496c34e0fc135e1f309fd586e8e65d0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_BDEV_LARGE_BUF_MAX_SIZE</b>&#160;&#160;&#160;(64 * 1024)</td></tr>
<tr class="separator:a9496c34e0fc135e1f309fd586e8e65d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a51a55c97586c2d524fffcabc4d7910d6"><td class="memItemLeft" align="right" valign="top"><a id="a51a55c97586c2d524fffcabc4d7910d6"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_remove_cb_t</b>) (void *remove_ctx)</td></tr>
<tr class="separator:a51a55c97586c2d524fffcabc4d7910d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b394dd97f4413c59c41c83d86dfdb9"><td class="memItemLeft" align="right" valign="top"><a id="a81b394dd97f4413c59c41c83d86dfdb9"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_io_completion_cb</b>) (struct spdk_bdev_io *bdev_io, enum <a class="el" href="bdev_8h.html#aa35cc1485b6ba4351c2fb4fbd7125c93">spdk_bdev_io_status</a> status, void *cb_arg)</td></tr>
<tr class="separator:a81b394dd97f4413c59c41c83d86dfdb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad6c166f5d928c2995df57c96a2977862"><td class="memItemLeft" align="right" valign="top"><a id="ad6c166f5d928c2995df57c96a2977862"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#ad6c166f5d928c2995df57c96a2977862">spdk_bdev_status</a> { <b>SPDK_BDEV_STATUS_INVALID</b>, 
<b>SPDK_BDEV_STATUS_UNCLAIMED</b>, 
<b>SPDK_BDEV_STATUS_CLAIMED</b>, 
<b>SPDK_BDEV_STATUS_REMOVING</b>
 }<tr class="memdesc:ad6c166f5d928c2995df57c96a2977862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blockdev status. <br /></td></tr>
</td></tr>
<tr class="separator:ad6c166f5d928c2995df57c96a2977862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633029e24ab5ae4a689bffa2565a519f"><td class="memItemLeft" align="right" valign="top"><a id="a633029e24ab5ae4a689bffa2565a519f"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#a633029e24ab5ae4a689bffa2565a519f">spdk_bdev_io_type</a> { <br />
&#160;&#160;<b>SPDK_BDEV_IO_TYPE_READ</b> = 1, 
<b>SPDK_BDEV_IO_TYPE_WRITE</b>, 
<b>SPDK_BDEV_IO_TYPE_UNMAP</b>, 
<b>SPDK_BDEV_IO_TYPE_FLUSH</b>, 
<br />
&#160;&#160;<b>SPDK_BDEV_IO_TYPE_RESET</b>
<br />
 }<tr class="memdesc:a633029e24ab5ae4a689bffa2565a519f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blockdev I/O type. <br /></td></tr>
</td></tr>
<tr class="separator:a633029e24ab5ae4a689bffa2565a519f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35cc1485b6ba4351c2fb4fbd7125c93"><td class="memItemLeft" align="right" valign="top"><a id="aa35cc1485b6ba4351c2fb4fbd7125c93"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#aa35cc1485b6ba4351c2fb4fbd7125c93">spdk_bdev_io_status</a> { <br />
&#160;&#160;<b>SPDK_BDEV_IO_STATUS_SCSI_ERROR</b> = -3, 
<b>SPDK_BDEV_IO_STATUS_NVME_ERROR</b> = -2, 
<b>SPDK_BDEV_IO_STATUS_FAILED</b> = -1, 
<b>SPDK_BDEV_IO_STATUS_PENDING</b> = 0, 
<br />
&#160;&#160;<b>SPDK_BDEV_IO_STATUS_SUCCESS</b> = 1
<br />
 }<tr class="memdesc:aa35cc1485b6ba4351c2fb4fbd7125c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blockdev I/O completion status. <br /></td></tr>
</td></tr>
<tr class="separator:aa35cc1485b6ba4351c2fb4fbd7125c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c63447f343002f128438ab17c67f44"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#ae0c63447f343002f128438ab17c67f44">spdk_bdev_reset_type</a> { <a class="el" href="bdev_8h.html#ae0c63447f343002f128438ab17c67f44aed6d033d6181161a4a1817c55fefc96a">SPDK_BDEV_RESET_HARD</a>, 
<a class="el" href="bdev_8h.html#ae0c63447f343002f128438ab17c67f44a11832ecb8d5a025a236889108dee0f4b">SPDK_BDEV_RESET_SOFT</a>
 }<tr class="memdesc:ae0c63447f343002f128438ab17c67f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blockdev reset operation type.  <a href="bdev_8h.html#ae0c63447f343002f128438ab17c67f44">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae0c63447f343002f128438ab17c67f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a89c759c53d028e3e408d19156f0e1eb1"><td class="memItemLeft" align="right" valign="top"><a id="a89c759c53d028e3e408d19156f0e1eb1"></a>
struct spdk_bdev *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_get_by_name</b> (const char *bdev_name)</td></tr>
<tr class="separator:a89c759c53d028e3e408d19156f0e1eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b044bb1053e99eb9c2830498dc2117d"><td class="memItemLeft" align="right" valign="top"><a id="a8b044bb1053e99eb9c2830498dc2117d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_unregister</b> (struct spdk_bdev *bdev)</td></tr>
<tr class="separator:a8b044bb1053e99eb9c2830498dc2117d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578b0a9d444ddbb23c8181d9a5ea4f46"><td class="memItemLeft" align="right" valign="top"><a id="a578b0a9d444ddbb23c8181d9a5ea4f46"></a>
struct spdk_bdev *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_first</b> (void)</td></tr>
<tr class="separator:a578b0a9d444ddbb23c8181d9a5ea4f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c0b9cb8dde1177df3442206cf87d2d"><td class="memItemLeft" align="right" valign="top"><a id="aa1c0b9cb8dde1177df3442206cf87d2d"></a>
struct spdk_bdev *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_next</b> (struct spdk_bdev *prev)</td></tr>
<tr class="separator:aa1c0b9cb8dde1177df3442206cf87d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5600670a9cb061bb5bd9ed4d8dd7046"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#af5600670a9cb061bb5bd9ed4d8dd7046">spdk_bdev_claim</a> (struct spdk_bdev *bdev, spdk_bdev_remove_cb_t remove_cb, void *remove_ctx)</td></tr>
<tr class="memdesc:af5600670a9cb061bb5bd9ed4d8dd7046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Claim ownership of a block device.  <a href="#af5600670a9cb061bb5bd9ed4d8dd7046">More...</a><br /></td></tr>
<tr class="separator:af5600670a9cb061bb5bd9ed4d8dd7046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae080366bf0d3b59d0bb05f2b3e698dea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#ae080366bf0d3b59d0bb05f2b3e698dea">spdk_bdev_unclaim</a> (struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:ae080366bf0d3b59d0bb05f2b3e698dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release claim of ownership of a block device.  <a href="#ae080366bf0d3b59d0bb05f2b3e698dea">More...</a><br /></td></tr>
<tr class="separator:ae080366bf0d3b59d0bb05f2b3e698dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd5dff692dc162459801d5649fe7655"><td class="memItemLeft" align="right" valign="top"><a id="a7cd5dff692dc162459801d5649fe7655"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_io_type_supported</b> (struct spdk_bdev *bdev, enum <a class="el" href="bdev_8h.html#a633029e24ab5ae4a689bffa2565a519f">spdk_bdev_io_type</a> io_type)</td></tr>
<tr class="separator:a7cd5dff692dc162459801d5649fe7655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d158f886b7ae2f735a794da420ca55"><td class="memItemLeft" align="right" valign="top"><a id="a84d158f886b7ae2f735a794da420ca55"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_dump_config_json</b> (struct spdk_bdev *bdev, struct spdk_json_write_ctx *w)</td></tr>
<tr class="separator:a84d158f886b7ae2f735a794da420ca55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97a853dcb945bf004817424b7aa28af"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#ad97a853dcb945bf004817424b7aa28af">spdk_bdev_get_name</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:ad97a853dcb945bf004817424b7aa28af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get block device name.  <a href="#ad97a853dcb945bf004817424b7aa28af">More...</a><br /></td></tr>
<tr class="separator:ad97a853dcb945bf004817424b7aa28af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb4d1f8822c30be8c5d9c5dc3e62483"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#a1cb4d1f8822c30be8c5d9c5dc3e62483">spdk_bdev_get_product_name</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:a1cb4d1f8822c30be8c5d9c5dc3e62483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get block device product name.  <a href="#a1cb4d1f8822c30be8c5d9c5dc3e62483">More...</a><br /></td></tr>
<tr class="separator:a1cb4d1f8822c30be8c5d9c5dc3e62483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba8c5672c8226b9b63f44543518c527"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#a3ba8c5672c8226b9b63f44543518c527">spdk_bdev_get_block_size</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:a3ba8c5672c8226b9b63f44543518c527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get block device logical block size.  <a href="#a3ba8c5672c8226b9b63f44543518c527">More...</a><br /></td></tr>
<tr class="separator:a3ba8c5672c8226b9b63f44543518c527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86568eca8f0b4d0dc9bc59c5138fc7a5"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#a86568eca8f0b4d0dc9bc59c5138fc7a5">spdk_bdev_get_num_blocks</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:a86568eca8f0b4d0dc9bc59c5138fc7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of block device in logical blocks.  <a href="#a86568eca8f0b4d0dc9bc59c5138fc7a5">More...</a><br /></td></tr>
<tr class="separator:a86568eca8f0b4d0dc9bc59c5138fc7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055368a3ce95cb597c99e9920dd025a4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#a055368a3ce95cb597c99e9920dd025a4">spdk_bdev_get_max_unmap_descriptors</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:a055368a3ce95cb597c99e9920dd025a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum number of descriptors per unmap request.  <a href="#a055368a3ce95cb597c99e9920dd025a4">More...</a><br /></td></tr>
<tr class="separator:a055368a3ce95cb597c99e9920dd025a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d238484b372a77ba130fbb70f83519"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#ab4d238484b372a77ba130fbb70f83519">spdk_bdev_get_buf_align</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:ab4d238484b372a77ba130fbb70f83519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get minimum I/O buffer address alignment for a bdev.  <a href="#ab4d238484b372a77ba130fbb70f83519">More...</a><br /></td></tr>
<tr class="separator:ab4d238484b372a77ba130fbb70f83519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f6d6ce09da384501f09a49581caa37"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#a93f6d6ce09da384501f09a49581caa37">spdk_bdev_has_write_cache</a> (const struct spdk_bdev *bdev)</td></tr>
<tr class="memdesc:a93f6d6ce09da384501f09a49581caa37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query whether block device has an enabled write cache.  <a href="#a93f6d6ce09da384501f09a49581caa37">More...</a><br /></td></tr>
<tr class="separator:a93f6d6ce09da384501f09a49581caa37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664bd53b425a79f98926fdddd6004ad7"><td class="memItemLeft" align="right" valign="top"><a id="a664bd53b425a79f98926fdddd6004ad7"></a>
struct spdk_bdev_io *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_read</b> (struct spdk_bdev *bdev, struct spdk_io_channel *ch, void *buf, uint64_t offset, uint64_t nbytes, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:a664bd53b425a79f98926fdddd6004ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c90e1fed97dc8962bd319d12b76a56"><td class="memItemLeft" align="right" valign="top"><a id="a76c90e1fed97dc8962bd319d12b76a56"></a>
struct spdk_bdev_io *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_readv</b> (struct spdk_bdev *bdev, struct spdk_io_channel *ch, struct iovec *iov, int iovcnt, uint64_t offset, uint64_t nbytes, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:a76c90e1fed97dc8962bd319d12b76a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e9f184fef0d26df877a329db72e21d"><td class="memItemLeft" align="right" valign="top"><a id="ab6e9f184fef0d26df877a329db72e21d"></a>
struct spdk_bdev_io *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_write</b> (struct spdk_bdev *bdev, struct spdk_io_channel *ch, void *buf, uint64_t offset, uint64_t nbytes, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:ab6e9f184fef0d26df877a329db72e21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46019368202d3df15876d52e11517389"><td class="memItemLeft" align="right" valign="top"><a id="a46019368202d3df15876d52e11517389"></a>
struct spdk_bdev_io *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_writev</b> (struct spdk_bdev *bdev, struct spdk_io_channel *ch, struct iovec *iov, int iovcnt, uint64_t offset, uint64_t len, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:a46019368202d3df15876d52e11517389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6fb3308d9dca07c5ad18176df12bd1"><td class="memItemLeft" align="right" valign="top"><a id="aef6fb3308d9dca07c5ad18176df12bd1"></a>
struct spdk_bdev_io *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_unmap</b> (struct spdk_bdev *bdev, struct spdk_io_channel *ch, struct <a class="el" href="structspdk__scsi__unmap__bdesc.html">spdk_scsi_unmap_bdesc</a> *unmap_d, uint16_t bdesc_count, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:aef6fb3308d9dca07c5ad18176df12bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5ca1848df6b80d4ce81b8a6c366170"><td class="memItemLeft" align="right" valign="top"><a id="a2e5ca1848df6b80d4ce81b8a6c366170"></a>
struct spdk_bdev_io *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_flush</b> (struct spdk_bdev *bdev, struct spdk_io_channel *ch, uint64_t offset, uint64_t length, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:a2e5ca1848df6b80d4ce81b8a6c366170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536a365e14bc4f3ddf76b9340958ebd8"><td class="memItemLeft" align="right" valign="top"><a id="a536a365e14bc4f3ddf76b9340958ebd8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_free_io</b> (struct spdk_bdev_io *bdev_io)</td></tr>
<tr class="separator:a536a365e14bc4f3ddf76b9340958ebd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a03a3f16c42ad4186e26ef7bba1145e"><td class="memItemLeft" align="right" valign="top"><a id="a7a03a3f16c42ad4186e26ef7bba1145e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_reset</b> (struct spdk_bdev *bdev, enum <a class="el" href="bdev_8h.html#ae0c63447f343002f128438ab17c67f44">spdk_bdev_reset_type</a>, spdk_bdev_io_completion_cb cb, void *cb_arg)</td></tr>
<tr class="separator:a7a03a3f16c42ad4186e26ef7bba1145e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52d4d0b0d0d26c6308ad7386a174691"><td class="memItemLeft" align="right" valign="top"><a id="ad52d4d0b0d0d26c6308ad7386a174691"></a>
struct spdk_io_channel *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_bdev_get_io_channel</b> (struct spdk_bdev *bdev, uint32_t priority)</td></tr>
<tr class="separator:ad52d4d0b0d0d26c6308ad7386a174691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe43254747db3cd072dfb596be3bbf2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#afe43254747db3cd072dfb596be3bbf2f">spdk_bdev_io_get_nvme_status</a> (const struct spdk_bdev_io *bdev_io, int *sct, int *sc)</td></tr>
<tr class="memdesc:afe43254747db3cd072dfb596be3bbf2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the status of bdev_io as an NVMe status code.  <a href="#afe43254747db3cd072dfb596be3bbf2f">More...</a><br /></td></tr>
<tr class="separator:afe43254747db3cd072dfb596be3bbf2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c213b4317d5077197950253af1ac50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#ac3c213b4317d5077197950253af1ac50">spdk_bdev_io_get_scsi_status</a> (const struct spdk_bdev_io *bdev_io, int *sc, int *sk, int *asc, int *ascq)</td></tr>
<tr class="memdesc:ac3c213b4317d5077197950253af1ac50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the status of bdev_io as a SCSI status code.  <a href="#ac3c213b4317d5077197950253af1ac50">More...</a><br /></td></tr>
<tr class="separator:ac3c213b4317d5077197950253af1ac50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05d8c0e82bfbcc209af1eb958230ede"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bdev_8h.html#aa05d8c0e82bfbcc209af1eb958230ede">spdk_bdev_io_get_iovec</a> (struct spdk_bdev_io *bdev_io, struct iovec **iovp, int *iovcntp)</td></tr>
<tr class="memdesc:aa05d8c0e82bfbcc209af1eb958230ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the iovec describing the data buffer of a bdev_io.  <a href="#aa05d8c0e82bfbcc209af1eb958230ede">More...</a><br /></td></tr>
<tr class="separator:aa05d8c0e82bfbcc209af1eb958230ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Block device abstraction layer. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae0c63447f343002f128438ab17c67f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c63447f343002f128438ab17c67f44">&#9670;&nbsp;</a></span>spdk_bdev_reset_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bdev_8h.html#ae0c63447f343002f128438ab17c67f44">spdk_bdev_reset_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blockdev reset operation type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae0c63447f343002f128438ab17c67f44aed6d033d6181161a4a1817c55fefc96a"></a>SPDK_BDEV_RESET_HARD&#160;</td><td class="fielddoc"><p>A hard reset indicates that the blockdev layer should not invoke the completion callback for I/Os issued before the reset is issued but completed after the reset is complete. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae0c63447f343002f128438ab17c67f44a11832ecb8d5a025a236889108dee0f4b"></a>SPDK_BDEV_RESET_SOFT&#160;</td><td class="fielddoc"><p>A soft reset indicates that the blockdev layer should still invoke the completion callback for I/Os issued before the reset is issued but completed after the reset is complete. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af5600670a9cb061bb5bd9ed4d8dd7046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5600670a9cb061bb5bd9ed4d8dd7046">&#9670;&nbsp;</a></span>spdk_bdev_claim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spdk_bdev_claim </td>
          <td>(</td>
          <td class="paramtype">struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spdk_bdev_remove_cb_t&#160;</td>
          <td class="paramname"><em>remove_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>remove_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Claim ownership of a block device. </p>
<p>User applications and virtual blockdevs may use this to mediate access to bdevs.</p>
<p>When the ownership of the bdev is no longer needed, the user should call <a class="el" href="bdev_8h.html#ae080366bf0d3b59d0bb05f2b3e698dea" title="Release claim of ownership of a block device. ">spdk_bdev_unclaim()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to claim. </td></tr>
    <tr><td class="paramname">remove_cb</td><td>callback function for hot remove the device. </td></tr>
    <tr><td class="paramname">remove_ctx</td><td>param for hot removal callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the caller claimed the bdev, or false if it was already claimed by another user. </dd></dl>

</div>
</div>
<a id="a3ba8c5672c8226b9b63f44543518c527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba8c5672c8226b9b63f44543518c527">&#9670;&nbsp;</a></span>spdk_bdev_get_block_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_bdev_get_block_size </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get block device logical block size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of logical block for this bdev in bytes. </dd></dl>

</div>
</div>
<a id="ab4d238484b372a77ba130fbb70f83519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d238484b372a77ba130fbb70f83519">&#9670;&nbsp;</a></span>spdk_bdev_get_buf_align()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t spdk_bdev_get_buf_align </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get minimum I/O buffer address alignment for a bdev. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Required alignment of I/O buffers in bytes. </dd></dl>

</div>
</div>
<a id="a055368a3ce95cb597c99e9920dd025a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055368a3ce95cb597c99e9920dd025a4">&#9670;&nbsp;</a></span>spdk_bdev_get_max_unmap_descriptors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_bdev_get_max_unmap_descriptors </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get maximum number of descriptors per unmap request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Maximum number of unmap descriptors per request. </dd></dl>

</div>
</div>
<a id="ad97a853dcb945bf004817424b7aa28af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad97a853dcb945bf004817424b7aa28af">&#9670;&nbsp;</a></span>spdk_bdev_get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* spdk_bdev_get_name </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get block device name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Name of bdev as a null-terminated string. </dd></dl>

</div>
</div>
<a id="a86568eca8f0b4d0dc9bc59c5138fc7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86568eca8f0b4d0dc9bc59c5138fc7a5">&#9670;&nbsp;</a></span>spdk_bdev_get_num_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t spdk_bdev_get_num_blocks </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get size of block device in logical blocks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of bdev in logical blocks.</dd></dl>
<p>Logical blocks are numbered from 0 to spdk_bdev_get_num_blocks(bdev) - 1, inclusive. </p>

</div>
</div>
<a id="a1cb4d1f8822c30be8c5d9c5dc3e62483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb4d1f8822c30be8c5d9c5dc3e62483">&#9670;&nbsp;</a></span>spdk_bdev_get_product_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* spdk_bdev_get_product_name </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get block device product name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Product name of bdev as a null-terminated string. </dd></dl>

</div>
</div>
<a id="a93f6d6ce09da384501f09a49581caa37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f6d6ce09da384501f09a49581caa37">&#9670;&nbsp;</a></span>spdk_bdev_has_write_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spdk_bdev_has_write_cache </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query whether block device has an enabled write cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if block device has a volatile write cache enabled.</dd></dl>
<p>If this function returns true, written data may not be persistent until a flush command is issued. </p>

</div>
</div>
<a id="aa05d8c0e82bfbcc209af1eb958230ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05d8c0e82bfbcc209af1eb958230ede">&#9670;&nbsp;</a></span>spdk_bdev_io_get_iovec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_bdev_io_get_iovec </td>
          <td>(</td>
          <td class="paramtype">struct spdk_bdev_io *&#160;</td>
          <td class="paramname"><em>bdev_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec **&#160;</td>
          <td class="paramname"><em>iovp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>iovcntp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the iovec describing the data buffer of a bdev_io. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev_io</td><td>I/O to describe with iovec. </td></tr>
    <tr><td class="paramname">iovp</td><td>Pointer to be filled with iovec. </td></tr>
    <tr><td class="paramname">iovcntp</td><td>Pointer to be filled with number of iovec entries. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe43254747db3cd072dfb596be3bbf2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe43254747db3cd072dfb596be3bbf2f">&#9670;&nbsp;</a></span>spdk_bdev_io_get_nvme_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_bdev_io_get_nvme_status </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev_io *&#160;</td>
          <td class="paramname"><em>bdev_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the status of bdev_io as an NVMe status code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev_io</td><td>I/O to get the status from. </td></tr>
    <tr><td class="paramname">sct</td><td>Status Code Type return value, as defined by the NVMe specification. </td></tr>
    <tr><td class="paramname">sc</td><td>Status Code return value, as defined by the NVMe specification. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac3c213b4317d5077197950253af1ac50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c213b4317d5077197950253af1ac50">&#9670;&nbsp;</a></span>spdk_bdev_io_get_scsi_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_bdev_io_get_scsi_status </td>
          <td>(</td>
          <td class="paramtype">const struct spdk_bdev_io *&#160;</td>
          <td class="paramname"><em>bdev_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>asc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ascq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the status of bdev_io as a SCSI status code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev_io</td><td>I/O to get the status from. </td></tr>
    <tr><td class="paramname">sc</td><td>SCSI Status Code. </td></tr>
    <tr><td class="paramname">sk</td><td>SCSI Sense Key. </td></tr>
    <tr><td class="paramname">asc</td><td>SCSI Additional Sense Code. </td></tr>
    <tr><td class="paramname">ascq</td><td>SCSI Additional Sense Code Qualifier. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae080366bf0d3b59d0bb05f2b3e698dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae080366bf0d3b59d0bb05f2b3e698dea">&#9670;&nbsp;</a></span>spdk_bdev_unclaim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_bdev_unclaim </td>
          <td>(</td>
          <td class="paramtype">struct spdk_bdev *&#160;</td>
          <td class="paramname"><em>bdev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release claim of ownership of a block device. </p>
<p>When a bdev reference acquired with <a class="el" href="bdev_8h.html#af5600670a9cb061bb5bd9ed4d8dd7046" title="Claim ownership of a block device. ">spdk_bdev_claim()</a> is no longer needed, the user should release the claim using <a class="el" href="bdev_8h.html#ae080366bf0d3b59d0bb05f2b3e698dea" title="Release claim of ownership of a block device. ">spdk_bdev_unclaim()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdev</td><td>Block device to release. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<footer>
  <div class="container text-center">
    <p class="copyright text-muted small">Copyright © Intel Corporation. All Rights Reserved.</p>
  </div>
</footer>
</div>
